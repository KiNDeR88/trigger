/*! For license information please see main.fbcb6763.js.LICENSE.txt */
(()=>{var e={43:(e,t,r)=>{"use strict";e.exports=r(288)},122:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!==i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!==i--;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}},173:(e,t,r)=>{e.exports=r(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},288:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||p}function m(){}function b(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var _=b.prototype=new m;_.constructor=b,g(_,y.prototype),_.isPureReactComponent=!0;var x=Array.isArray,w={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function O(e,t,n,i,o,a){return n=a.ref,{$$typeof:r,type:e,key:t,ref:void 0!==n?n:null,props:a}}function D(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(){}function C(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u,l,c=!1;if(null===e)c=!0;else switch(s){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case r:case n:c=!0;break;case d:return C((c=e._init)(e._payload),t,i,o,a)}}if(c)return a=a(e),c=""===o?"."+T(e,0):o,x(a)?(i="",null!=c&&(i=c.replace(E,"$&/")+"/"),C(a,t,i,"",(function(e){return e}))):null!=a&&(D(a)&&(u=a,l=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+c,a=O(u.type,l,void 0,0,0,u.props)),t.push(a)),1;c=0;var f,p=""===o?".":o+":";if(x(e))for(var g=0;g<e.length;g++)c+=C(o=e[g],t,i,s=p+T(o,g),a);else if("function"===typeof(g=null===(f=e)||"object"!==typeof f?null:"function"===typeof(f=h&&f[h]||f["@@iterator"])?f:null))for(e=g.call(e),g=0;!(o=e.next()).done;)c+=C(o=o.value,t,i,s=p+T(o,g++),a);else if("object"===s){if("function"===typeof e.then)return C(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function j(e,t,r){if(null==e)return e;var n=[],i=0;return C(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function k(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function A(){}t.Children={map:j,forEach:function(e,t,r){j(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!D(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,t.act=function(){throw Error("act(...) is not supported in production builds of React.")},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=g({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(n[o]=t[o]);var o=arguments.length-2;if(1===o)n.children=r;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];n.children=a}return O(e.type,i,void 0,0,0,n)},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,r){var n,i={},o=null;if(null!=t)for(n in void 0!==t.key&&(o=""+t.key),t)S.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(i[n]=t[n]);var a=arguments.length-2;if(1===a)i.children=r;else if(1<a){for(var s=Array(a),u=0;u<a;u++)s[u]=arguments[u+2];i.children=s}if(e&&e.defaultProps)for(n in a=e.defaultProps)void 0===i[n]&&(i[n]=a[n]);return O(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=D,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=w.T,r={};w.T=r;try{var n=e(),i=w.S;null!==i&&i(r,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(A,P)}catch(o){P(o)}finally{w.T=t}},t.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},t.use=function(e){return w.H.use(e)},t.useActionState=function(e,t,r){return w.H.useActionState(e,t,r)},t.useCallback=function(e,t){return w.H.useCallback(e,t)},t.useContext=function(e){return w.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return w.H.useEffect(e,t)},t.useId=function(){return w.H.useId()},t.useImperativeHandle=function(e,t,r){return w.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return w.H.useMemo(e,t)},t.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return w.H.useReducer(e,t,r)},t.useRef=function(e){return w.H.useRef(e)},t.useState=function(e){return w.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return w.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return w.H.useTransition()},t.version="19.0.0"},497:(e,t,r)=>{"use strict";var n=r(218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},536:function(e,t,r){var n;e=r.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,l=32,c=64,f=128,d=256,h=1/0,p=9007199254740991,g=NaN,v=4294967295,y=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",l],["partialRight",c],["rearg",d]],m="[object Arguments]",b="[object Array]",_="[object Boolean]",x="[object Date]",w="[object Error]",S="[object Function]",O="[object GeneratorFunction]",D="[object Map]",E="[object Number]",T="[object Object]",I="[object Promise]",C="[object RegExp]",j="[object Set]",k="[object String]",P="[object Symbol]",A="[object WeakMap]",N="[object ArrayBuffer]",R="[object DataView]",M="[object Float32Array]",L="[object Float64Array]",F="[object Int8Array]",V="[object Int16Array]",B="[object Int32Array]",$="[object Uint8Array]",U="[object Uint8ClampedArray]",H="[object Uint16Array]",z="[object Uint32Array]",W=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,X=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,Y=RegExp(G.source),Z=RegExp(K.source),J=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,ve=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,Oe="\\ud800-\\udfff",De="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Ie="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",je="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ke="['\u2019]",Pe="["+Oe+"]",Ae="["+je+"]",Ne="["+De+"]",Re="\\d+",Me="["+Ee+"]",Le="["+Te+"]",Fe="[^"+Oe+je+Re+Ee+Te+Ie+"]",Ve="\\ud83c[\\udffb-\\udfff]",Be="[^"+Oe+"]",$e="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Ie+"]",ze="\\u200d",We="(?:"+Le+"|"+Fe+")",qe="(?:"+He+"|"+Fe+")",Xe="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ge="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ke="(?:"+Ne+"|"+Ve+")"+"?",Ye="["+Ce+"]?",Ze=Ye+Ke+("(?:"+ze+"(?:"+[Be,$e,Ue].join("|")+")"+Ye+Ke+")*"),Je="(?:"+[Me,$e,Ue].join("|")+")"+Ze,Qe="(?:"+[Be+Ne+"?",Ne,$e,Ue,Pe].join("|")+")",et=RegExp(ke,"g"),tt=RegExp(Ne,"g"),rt=RegExp(Ve+"(?="+Ve+")|"+Qe+Ze,"g"),nt=RegExp([He+"?"+Le+"+"+Xe+"(?="+[Ae,He,"$"].join("|")+")",qe+"+"+Ge+"(?="+[Ae,He+We,"$"].join("|")+")",He+"?"+We+"+"+Xe,He+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Re,Je].join("|"),"g"),it=RegExp("["+ze+Oe+De+Ce+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,ut={};ut[M]=ut[L]=ut[F]=ut[V]=ut[B]=ut[$]=ut[U]=ut[H]=ut[z]=!0,ut[m]=ut[b]=ut[N]=ut[_]=ut[R]=ut[x]=ut[w]=ut[S]=ut[D]=ut[E]=ut[T]=ut[C]=ut[j]=ut[k]=ut[A]=!1;var lt={};lt[m]=lt[b]=lt[N]=lt[R]=lt[_]=lt[x]=lt[M]=lt[L]=lt[F]=lt[V]=lt[B]=lt[D]=lt[E]=lt[T]=lt[C]=lt[j]=lt[k]=lt[P]=lt[$]=lt[U]=lt[H]=lt[z]=!0,lt[w]=lt[S]=lt[A]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ft=parseFloat,dt=parseInt,ht="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,pt="object"==typeof self&&self&&self.Object===Object&&self,gt=ht||pt||Function("return this")(),vt=t&&!t.nodeType&&t,yt=vt&&e&&!e.nodeType&&e,mt=yt&&yt.exports===vt,bt=mt&&ht.process,_t=function(){try{var e=yt&&yt.require&&yt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),xt=_t&&_t.isArrayBuffer,wt=_t&&_t.isDate,St=_t&&_t.isMap,Ot=_t&&_t.isRegExp,Dt=_t&&_t.isSet,Et=_t&&_t.isTypedArray;function Tt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function It(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(n,a,r(a),e)}return n}function Ct(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function jt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function kt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Pt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}function At(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function Nt(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Rt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Mt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Lt(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function Ft(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function Vt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Bt=Xt("length");function $t(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Ut(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ht(e,t,r){return t===t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Ut(e,Wt,r)}function zt(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function Wt(e){return e!==e}function qt(e,t){var r=null==e?0:e.length;return r?Yt(e,t)/r:g}function Xt(e){return function(t){return null==t?i:t[e]}}function Gt(e){return function(t){return null==e?i:e[t]}}function Kt(e,t,r,n,i){return i(e,(function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)})),r}function Yt(e,t){for(var r,n=-1,o=e.length;++n<o;){var a=t(e[n]);a!==i&&(r=r===i?a:r+a)}return r}function Zt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Jt(e){return e?e.slice(0,gr(e)+1).replace(ae,""):e}function Qt(e){return function(t){return e(t)}}function er(e,t){return Rt(t,(function(t){return e[t]}))}function tr(e,t){return e.has(t)}function rr(e,t){for(var r=-1,n=e.length;++r<n&&Ht(t,e[r],0)>-1;);return r}function nr(e,t){for(var r=e.length;r--&&Ht(t,e[r],0)>-1;);return r}var ir=Gt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),or=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ar(e){return"\\"+ct[e]}function sr(e){return it.test(e)}function ur(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function lr(e,t){return function(r){return e(t(r))}}function cr(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r];a!==t&&a!==s||(e[r]=s,o[i++]=r)}return o}function fr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function dr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function hr(e){return sr(e)?function(e){var t=rt.lastIndex=0;for(;rt.test(e);)++t;return t}(e):Bt(e)}function pr(e){return sr(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.split("")}(e)}function gr(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var vr=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var yr=function e(t){var r=(t=null==t?gt:yr.defaults(gt.Object(),t,yr.pick(gt,at))).Array,n=t.Date,se=t.Error,Oe=t.Function,De=t.Math,Ee=t.Object,Te=t.RegExp,Ie=t.String,Ce=t.TypeError,je=r.prototype,ke=Oe.prototype,Pe=Ee.prototype,Ae=t["__core-js_shared__"],Ne=ke.toString,Re=Pe.hasOwnProperty,Me=0,Le=function(){var e=/[^.]+$/.exec(Ae&&Ae.keys&&Ae.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Pe.toString,Ve=Ne.call(Ee),Be=gt._,$e=Te("^"+Ne.call(Re).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=mt?t.Buffer:i,He=t.Symbol,ze=t.Uint8Array,We=Ue?Ue.allocUnsafe:i,qe=lr(Ee.getPrototypeOf,Ee),Xe=Ee.create,Ge=Pe.propertyIsEnumerable,Ke=je.splice,Ye=He?He.isConcatSpreadable:i,Ze=He?He.iterator:i,Je=He?He.toStringTag:i,Qe=function(){try{var e=fo(Ee,"defineProperty");return e({},"",{}),e}catch(t){}}(),rt=t.clearTimeout!==gt.clearTimeout&&t.clearTimeout,it=n&&n.now!==gt.Date.now&&n.now,ct=t.setTimeout!==gt.setTimeout&&t.setTimeout,ht=De.ceil,pt=De.floor,vt=Ee.getOwnPropertySymbols,yt=Ue?Ue.isBuffer:i,bt=t.isFinite,_t=je.join,Bt=lr(Ee.keys,Ee),Gt=De.max,mr=De.min,br=n.now,_r=t.parseInt,xr=De.random,wr=je.reverse,Sr=fo(t,"DataView"),Or=fo(t,"Map"),Dr=fo(t,"Promise"),Er=fo(t,"Set"),Tr=fo(t,"WeakMap"),Ir=fo(Ee,"create"),Cr=Tr&&new Tr,jr={},kr=Fo(Sr),Pr=Fo(Or),Ar=Fo(Dr),Nr=Fo(Er),Rr=Fo(Tr),Mr=He?He.prototype:i,Lr=Mr?Mr.valueOf:i,Fr=Mr?Mr.toString:i;function Vr(e){if(ts(e)&&!za(e)&&!(e instanceof Hr)){if(e instanceof Ur)return e;if(Re.call(e,"__wrapped__"))return Vo(e)}return new Ur(e)}var Br=function(){function e(){}return function(t){if(!es(t))return{};if(Xe)return Xe(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function $r(){}function Ur(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Hr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=v,this.__views__=[]}function zr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function qr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Xr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new qr;++t<r;)this.add(e[t])}function Gr(e){var t=this.__data__=new Wr(e);this.size=t.size}function Kr(e,t){var r=za(e),n=!r&&Ha(e),i=!r&&!n&&Ga(e),o=!r&&!n&&!i&&ls(e),a=r||n||i||o,s=a?Zt(e.length,Ie):[],u=s.length;for(var l in e)!t&&!Re.call(e,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||bo(l,u))||s.push(l);return s}function Yr(e){var t=e.length;return t?e[Gn(0,t-1)]:i}function Zr(e,t){return Ro(Ci(e),sn(t,0,e.length))}function Jr(e){return Ro(Ci(e))}function Qr(e,t,r){(r!==i&&!Ba(e[t],r)||r===i&&!(t in e))&&on(e,t,r)}function en(e,t,r){var n=e[t];Re.call(e,t)&&Ba(n,r)&&(r!==i||t in e)||on(e,t,r)}function tn(e,t){for(var r=e.length;r--;)if(Ba(e[r][0],t))return r;return-1}function rn(e,t,r,n){return dn(e,(function(e,i,o){t(n,e,r(e),o)})),n}function nn(e,t){return e&&ji(t,ks(t),e)}function on(e,t,r){"__proto__"==t&&Qe?Qe(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function an(e,t){for(var n=-1,o=t.length,a=r(o),s=null==e;++n<o;)a[n]=s?i:Es(e,t[n]);return a}function sn(e,t,r){return e===e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function un(e,t,r,n,o,a){var s,u=1&t,l=2&t,c=4&t;if(r&&(s=o?r(e,n,o,a):r(e)),s!==i)return s;if(!es(e))return e;var f=za(e);if(f){if(s=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&Re.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!u)return Ci(e,s)}else{var d=go(e),h=d==S||d==O;if(Ga(e))return Si(e,u);if(d==T||d==m||h&&!o){if(s=l||h?{}:yo(e),!u)return l?function(e,t){return ji(e,po(e),t)}(e,function(e,t){return e&&ji(t,Ps(t),e)}(s,e)):function(e,t){return ji(e,ho(e),t)}(e,nn(s,e))}else{if(!lt[d])return o?e:{};s=function(e,t,r){var n=e.constructor;switch(t){case N:return Oi(e);case _:case x:return new n(+e);case R:return function(e,t){var r=t?Oi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case M:case L:case F:case V:case B:case $:case U:case H:case z:return Di(e,r);case D:return new n;case E:case k:return new n(e);case C:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case j:return new n;case P:return i=e,Lr?Ee(Lr.call(i)):{}}var i}(e,d,u)}}a||(a=new Gr);var p=a.get(e);if(p)return p;a.set(e,s),as(e)?e.forEach((function(n){s.add(un(n,t,r,n,e,a))})):rs(e)&&e.forEach((function(n,i){s.set(i,un(n,t,r,i,e,a))}));var g=f?i:(c?l?io:no:l?Ps:ks)(e);return Ct(g||e,(function(n,i){g&&(n=e[i=n]),en(s,i,un(n,t,r,i,e,a))})),s}function ln(e,t,r){var n=r.length;if(null==e)return!n;for(e=Ee(e);n--;){var o=r[n],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function cn(e,t,r){if("function"!=typeof e)throw new Ce(o);return ko((function(){e.apply(i,r)}),t)}function fn(e,t,r,n){var i=-1,o=At,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;r&&(t=Rt(t,Qt(r))),n?(o=Nt,a=!1):t.length>=200&&(o=tr,a=!1,t=new Xr(t));e:for(;++i<s;){var c=e[i],f=null==r?c:r(c);if(c=n||0!==c?c:0,a&&f===f){for(var d=l;d--;)if(t[d]===f)continue e;u.push(c)}else o(t,f,n)||u.push(c)}return u}Vr.templateSettings={escape:J,evaluate:Q,interpolate:ee,variable:"",imports:{_:Vr}},Vr.prototype=$r.prototype,Vr.prototype.constructor=Vr,Ur.prototype=Br($r.prototype),Ur.prototype.constructor=Ur,Hr.prototype=Br($r.prototype),Hr.prototype.constructor=Hr,zr.prototype.clear=function(){this.__data__=Ir?Ir(null):{},this.size=0},zr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},zr.prototype.get=function(e){var t=this.__data__;if(Ir){var r=t[e];return r===a?i:r}return Re.call(t,e)?t[e]:i},zr.prototype.has=function(e){var t=this.__data__;return Ir?t[e]!==i:Re.call(t,e)},zr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ir&&t===i?a:t,this},Wr.prototype.clear=function(){this.__data__=[],this.size=0},Wr.prototype.delete=function(e){var t=this.__data__,r=tn(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ke.call(t,r,1),--this.size,!0)},Wr.prototype.get=function(e){var t=this.__data__,r=tn(t,e);return r<0?i:t[r][1]},Wr.prototype.has=function(e){return tn(this.__data__,e)>-1},Wr.prototype.set=function(e,t){var r=this.__data__,n=tn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},qr.prototype.clear=function(){this.size=0,this.__data__={hash:new zr,map:new(Or||Wr),string:new zr}},qr.prototype.delete=function(e){var t=lo(this,e).delete(e);return this.size-=t?1:0,t},qr.prototype.get=function(e){return lo(this,e).get(e)},qr.prototype.has=function(e){return lo(this,e).has(e)},qr.prototype.set=function(e,t){var r=lo(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Xr.prototype.add=Xr.prototype.push=function(e){return this.__data__.set(e,a),this},Xr.prototype.has=function(e){return this.__data__.has(e)},Gr.prototype.clear=function(){this.__data__=new Wr,this.size=0},Gr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Gr.prototype.get=function(e){return this.__data__.get(e)},Gr.prototype.has=function(e){return this.__data__.has(e)},Gr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Wr){var n=r.__data__;if(!Or||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new qr(n)}return r.set(e,t),this.size=r.size,this};var dn=Ai(_n),hn=Ai(xn,!0);function pn(e,t){var r=!0;return dn(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function gn(e,t,r){for(var n=-1,o=e.length;++n<o;){var a=e[n],s=t(a);if(null!=s&&(u===i?s===s&&!us(s):r(s,u)))var u=s,l=a}return l}function vn(e,t){var r=[];return dn(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function yn(e,t,r,n,i){var o=-1,a=e.length;for(r||(r=mo),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?yn(s,t-1,r,n,i):Mt(i,s):n||(i[i.length]=s)}return i}var mn=Ni(),bn=Ni(!0);function _n(e,t){return e&&mn(e,t,ks)}function xn(e,t){return e&&bn(e,t,ks)}function wn(e,t){return Pt(t,(function(t){return Za(e[t])}))}function Sn(e,t){for(var r=0,n=(t=bi(t,e)).length;null!=e&&r<n;)e=e[Lo(t[r++])];return r&&r==n?e:i}function On(e,t,r){var n=t(e);return za(e)?n:Mt(n,r(e))}function Dn(e){return null==e?e===i?"[object Undefined]":"[object Null]":Je&&Je in Ee(e)?function(e){var t=Re.call(e,Je),r=e[Je];try{e[Je]=i;var n=!0}catch(a){}var o=Fe.call(e);n&&(t?e[Je]=r:delete e[Je]);return o}(e):function(e){return Fe.call(e)}(e)}function En(e,t){return e>t}function Tn(e,t){return null!=e&&Re.call(e,t)}function In(e,t){return null!=e&&t in Ee(e)}function Cn(e,t,n){for(var o=n?Nt:At,a=e[0].length,s=e.length,u=s,l=r(s),c=1/0,f=[];u--;){var d=e[u];u&&t&&(d=Rt(d,Qt(t))),c=mr(d.length,c),l[u]=!n&&(t||a>=120&&d.length>=120)?new Xr(u&&d):i}d=e[0];var h=-1,p=l[0];e:for(;++h<a&&f.length<c;){var g=d[h],v=t?t(g):g;if(g=n||0!==g?g:0,!(p?tr(p,v):o(f,v,n))){for(u=s;--u;){var y=l[u];if(!(y?tr(y,v):o(e[u],v,n)))continue e}p&&p.push(v),f.push(g)}}return f}function jn(e,t,r){var n=null==(e=Io(e,t=bi(t,e)))?e:e[Lo(Yo(t))];return null==n?i:Tt(n,e,r)}function kn(e){return ts(e)&&Dn(e)==m}function Pn(e,t,r,n,o){return e===t||(null==e||null==t||!ts(e)&&!ts(t)?e!==e&&t!==t:function(e,t,r,n,o,a){var s=za(e),u=za(t),l=s?b:go(e),c=u?b:go(t),f=(l=l==m?T:l)==T,d=(c=c==m?T:c)==T,h=l==c;if(h&&Ga(e)){if(!Ga(t))return!1;s=!0,f=!1}if(h&&!f)return a||(a=new Gr),s||ls(e)?to(e,t,r,n,o,a):function(e,t,r,n,i,o,a){switch(r){case R:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!o(new ze(e),new ze(t)));case _:case x:case E:return Ba(+e,+t);case w:return e.name==t.name&&e.message==t.message;case C:case k:return e==t+"";case D:var s=ur;case j:var u=1&n;if(s||(s=fr),e.size!=t.size&&!u)return!1;var l=a.get(e);if(l)return l==t;n|=2,a.set(e,t);var c=to(s(e),s(t),n,i,o,a);return a.delete(e),c;case P:if(Lr)return Lr.call(e)==Lr.call(t)}return!1}(e,t,l,r,n,o,a);if(!(1&r)){var p=f&&Re.call(e,"__wrapped__"),g=d&&Re.call(t,"__wrapped__");if(p||g){var v=p?e.value():e,y=g?t.value():t;return a||(a=new Gr),o(v,y,r,n,a)}}if(!h)return!1;return a||(a=new Gr),function(e,t,r,n,o,a){var s=1&r,u=no(e),l=u.length,c=no(t),f=c.length;if(l!=f&&!s)return!1;var d=l;for(;d--;){var h=u[d];if(!(s?h in t:Re.call(t,h)))return!1}var p=a.get(e),g=a.get(t);if(p&&g)return p==t&&g==e;var v=!0;a.set(e,t),a.set(t,e);var y=s;for(;++d<l;){var m=e[h=u[d]],b=t[h];if(n)var _=s?n(b,m,h,t,e,a):n(m,b,h,e,t,a);if(!(_===i?m===b||o(m,b,r,n,a):_)){v=!1;break}y||(y="constructor"==h)}if(v&&!y){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(v=!1)}return a.delete(e),a.delete(t),v}(e,t,r,n,o,a)}(e,t,r,n,Pn,o))}function An(e,t,r,n){var o=r.length,a=o,s=!n;if(null==e)return!a;for(e=Ee(e);o--;){var u=r[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var l=(u=r[o])[0],c=e[l],f=u[1];if(s&&u[2]){if(c===i&&!(l in e))return!1}else{var d=new Gr;if(n)var h=n(c,f,l,e,t,d);if(!(h===i?Pn(f,c,3,n,d):h))return!1}}return!0}function Nn(e){return!(!es(e)||(t=e,Le&&Le in t))&&(Za(e)?$e:me).test(Fo(e));var t}function Rn(e){return"function"==typeof e?e:null==e?nu:"object"==typeof e?za(e)?$n(e[0],e[1]):Bn(e):du(e)}function Mn(e){if(!Oo(e))return Bt(e);var t=[];for(var r in Ee(e))Re.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Ln(e){if(!es(e))return function(e){var t=[];if(null!=e)for(var r in Ee(e))t.push(r);return t}(e);var t=Oo(e),r=[];for(var n in e)("constructor"!=n||!t&&Re.call(e,n))&&r.push(n);return r}function Fn(e,t){return e<t}function Vn(e,t){var n=-1,i=qa(e)?r(e.length):[];return dn(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Bn(e){var t=co(e);return 1==t.length&&t[0][2]?Eo(t[0][0],t[0][1]):function(r){return r===e||An(r,e,t)}}function $n(e,t){return xo(e)&&Do(t)?Eo(Lo(e),t):function(r){var n=Es(r,e);return n===i&&n===t?Ts(r,e):Pn(t,n,3)}}function Un(e,t,r,n,o){e!==t&&mn(t,(function(a,s){if(o||(o=new Gr),es(a))!function(e,t,r,n,o,a,s){var u=Co(e,r),l=Co(t,r),c=s.get(l);if(c)return void Qr(e,r,c);var f=a?a(u,l,r+"",e,t,s):i,d=f===i;if(d){var h=za(l),p=!h&&Ga(l),g=!h&&!p&&ls(l);f=l,h||p||g?za(u)?f=u:Xa(u)?f=Ci(u):p?(d=!1,f=Si(l,!0)):g?(d=!1,f=Di(l,!0)):f=[]:is(l)||Ha(l)?(f=u,Ha(u)?f=ys(u):es(u)&&!Za(u)||(f=yo(l))):d=!1}d&&(s.set(l,f),o(f,l,n,a,s),s.delete(l));Qr(e,r,f)}(e,t,s,r,Un,n,o);else{var u=n?n(Co(e,s),a,s+"",e,t,o):i;u===i&&(u=a),Qr(e,s,u)}}),Ps)}function Hn(e,t){var r=e.length;if(r)return bo(t+=t<0?r:0,r)?e[t]:i}function zn(e,t,r){t=t.length?Rt(t,(function(e){return za(e)?function(t){return Sn(t,1===e.length?e[0]:e)}:e})):[nu];var n=-1;t=Rt(t,Qt(uo()));var i=Vn(e,(function(e,r,i){var o=Rt(t,(function(t){return t(e)}));return{criteria:o,index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(i,(function(e,t){return function(e,t,r){var n=-1,i=e.criteria,o=t.criteria,a=i.length,s=r.length;for(;++n<a;){var u=Ei(i[n],o[n]);if(u)return n>=s?u:u*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function Wn(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var a=t[n],s=Sn(e,a);r(s,a)&&Qn(o,bi(a,e),s)}return o}function qn(e,t,r,n){var i=n?zt:Ht,o=-1,a=t.length,s=e;for(e===t&&(t=Ci(t)),r&&(s=Rt(e,Qt(r)));++o<a;)for(var u=0,l=t[o],c=r?r(l):l;(u=i(s,c,u,n))>-1;)s!==e&&Ke.call(s,u,1),Ke.call(e,u,1);return e}function Xn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;bo(i)?Ke.call(e,i,1):fi(e,i)}}return e}function Gn(e,t){return e+pt(xr()*(t-e+1))}function Kn(e,t){var r="";if(!e||t<1||t>p)return r;do{t%2&&(r+=e),(t=pt(t/2))&&(e+=e)}while(t);return r}function Yn(e,t){return Po(To(e,t,nu),e+"")}function Zn(e){return Yr(Bs(e))}function Jn(e,t){var r=Bs(e);return Ro(r,sn(t,0,r.length))}function Qn(e,t,r,n){if(!es(e))return e;for(var o=-1,a=(t=bi(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var l=Lo(t[o]),c=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=s){var f=u[l];(c=n?n(f,l,u):i)===i&&(c=es(f)?f:bo(t[o+1])?[]:{})}en(u,l,c),u=u[l]}return e}var ei=Cr?function(e,t){return Cr.set(e,t),e}:nu,ti=Qe?function(e,t){return Qe(e,"toString",{configurable:!0,enumerable:!1,value:eu(t),writable:!0})}:nu;function ri(e){return Ro(Bs(e))}function ni(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function ii(e,t){var r;return dn(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function oi(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;n<i;){var o=n+i>>>1,a=e[o];null!==a&&!us(a)&&(r?a<=t:a<t)?n=o+1:i=o}return i}return ai(e,t,nu,r)}function ai(e,t,r,n){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=r(t))!==t,u=null===t,l=us(t),c=t===i;o<a;){var f=pt((o+a)/2),d=r(e[f]),h=d!==i,p=null===d,g=d===d,v=us(d);if(s)var y=n||g;else y=c?g&&(n||h):u?g&&h&&(n||!p):l?g&&h&&!p&&(n||!v):!p&&!v&&(n?d<=t:d<t);y?o=f+1:a=f}return mr(a,4294967294)}function si(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var a=e[r],s=t?t(a):a;if(!r||!Ba(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ui(e){return"number"==typeof e?e:us(e)?g:+e}function li(e){if("string"==typeof e)return e;if(za(e))return Rt(e,li)+"";if(us(e))return Fr?Fr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ci(e,t,r){var n=-1,i=At,o=e.length,a=!0,s=[],u=s;if(r)a=!1,i=Nt;else if(o>=200){var l=t?null:Ki(e);if(l)return fr(l);a=!1,i=tr,u=new Xr}else u=t?[]:s;e:for(;++n<o;){var c=e[n],f=t?t(c):c;if(c=r||0!==c?c:0,a&&f===f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(c)}else i(u,f,r)||(u!==s&&u.push(f),s.push(c))}return s}function fi(e,t){return null==(e=Io(e,t=bi(t,e)))||delete e[Lo(Yo(t))]}function di(e,t,r,n){return Qn(e,t,r(Sn(e,t)),n)}function hi(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?ni(e,n?0:o,n?o+1:i):ni(e,n?o+1:0,n?i:o)}function pi(e,t){var r=e;return r instanceof Hr&&(r=r.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Mt([e],t.args))}),r)}function gi(e,t,n){var i=e.length;if(i<2)return i?ci(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=fn(a[o]||s,e[u],t,n));return ci(yn(a,1),t,n)}function vi(e,t,r){for(var n=-1,o=e.length,a=t.length,s={};++n<o;){var u=n<a?t[n]:i;r(s,e[n],u)}return s}function yi(e){return Xa(e)?e:[]}function mi(e){return"function"==typeof e?e:nu}function bi(e,t){return za(e)?e:xo(e,t)?[e]:Mo(ms(e))}var _i=Yn;function xi(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:ni(e,t,r)}var wi=rt||function(e){return gt.clearTimeout(e)};function Si(e,t){if(t)return e.slice();var r=e.length,n=We?We(r):new e.constructor(r);return e.copy(n),n}function Oi(e){var t=new e.constructor(e.byteLength);return new ze(t).set(new ze(e)),t}function Di(e,t){var r=t?Oi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Ei(e,t){if(e!==t){var r=e!==i,n=null===e,o=e===e,a=us(e),s=t!==i,u=null===t,l=t===t,c=us(t);if(!u&&!c&&!a&&e>t||a&&s&&l&&!u&&!c||n&&s&&l||!r&&l||!o)return 1;if(!n&&!a&&!c&&e<t||c&&r&&o&&!n&&!a||u&&r&&o||!s&&o||!l)return-1}return 0}function Ti(e,t,n,i){for(var o=-1,a=e.length,s=n.length,u=-1,l=t.length,c=Gt(a-s,0),f=r(l+c),d=!i;++u<l;)f[u]=t[u];for(;++o<s;)(d||o<a)&&(f[n[o]]=e[o]);for(;c--;)f[u++]=e[o++];return f}function Ii(e,t,n,i){for(var o=-1,a=e.length,s=-1,u=n.length,l=-1,c=t.length,f=Gt(a-u,0),d=r(f+c),h=!i;++o<f;)d[o]=e[o];for(var p=o;++l<c;)d[p+l]=t[l];for(;++s<u;)(h||o<a)&&(d[p+n[s]]=e[o++]);return d}function Ci(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function ji(e,t,r,n){var o=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var u=t[a],l=n?n(r[u],e[u],u,r,e):i;l===i&&(l=e[u]),o?on(r,u,l):en(r,u,l)}return r}function ki(e,t){return function(r,n){var i=za(r)?It:rn,o=t?t():{};return i(r,e,uo(n,2),o)}}function Pi(e){return Yn((function(t,r){var n=-1,o=r.length,a=o>1?r[o-1]:i,s=o>2?r[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&_o(r[0],r[1],s)&&(a=o<3?i:a,o=1),t=Ee(t);++n<o;){var u=r[n];u&&e(t,u,n,a)}return t}))}function Ai(e,t){return function(r,n){if(null==r)return r;if(!qa(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=Ee(r);(t?o--:++o<i)&&!1!==n(a[o],o,a););return r}}function Ni(e){return function(t,r,n){for(var i=-1,o=Ee(t),a=n(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===r(o[u],u,o))break}return t}}function Ri(e){return function(t){var r=sr(t=ms(t))?pr(t):i,n=r?r[0]:t.charAt(0),o=r?xi(r,1).join(""):t.slice(1);return n[e]()+o}}function Mi(e){return function(t){return Lt(Zs(Hs(t).replace(et,"")),e,"")}}function Li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Br(e.prototype),n=e.apply(r,t);return es(n)?n:r}}function Fi(e){return function(t,r,n){var o=Ee(t);if(!qa(t)){var a=uo(r,3);t=ks(t),r=function(e){return a(o[e],e,o)}}var s=e(t,r,n);return s>-1?o[a?t[s]:s]:i}}function Vi(e){return ro((function(t){var r=t.length,n=r,a=Ur.prototype.thru;for(e&&t.reverse();n--;){var s=t[n];if("function"!=typeof s)throw new Ce(o);if(a&&!u&&"wrapper"==ao(s))var u=new Ur([],!0)}for(n=u?n:r;++n<r;){var l=ao(s=t[n]),c="wrapper"==l?oo(s):i;u=c&&wo(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[ao(c[0])].apply(u,c[3]):1==s.length&&wo(s)?u[l]():u.thru(s)}return function(){var e=arguments,n=e[0];if(u&&1==e.length&&za(n))return u.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}}))}function Bi(e,t,n,o,a,s,u,l,c,d){var h=t&f,p=1&t,g=2&t,v=24&t,y=512&t,m=g?i:Li(e);return function f(){for(var b=arguments.length,_=r(b),x=b;x--;)_[x]=arguments[x];if(v)var w=so(f),S=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(_,w);if(o&&(_=Ti(_,o,a,v)),s&&(_=Ii(_,s,u,v)),b-=S,v&&b<d){var O=cr(_,w);return Xi(e,t,Bi,f.placeholder,n,_,O,l,c,d-b)}var D=p?n:this,E=g?D[e]:e;return b=_.length,l?_=function(e,t){var r=e.length,n=mr(t.length,r),o=Ci(e);for(;n--;){var a=t[n];e[n]=bo(a,r)?o[a]:i}return e}(_,l):y&&b>1&&_.reverse(),h&&c<b&&(_.length=c),this&&this!==gt&&this instanceof f&&(E=m||Li(E)),E.apply(D,_)}}function $i(e,t){return function(r,n){return function(e,t,r,n){return _n(e,(function(e,i,o){t(n,r(e),i,o)})),n}(r,e,t(n),{})}}function Ui(e,t){return function(r,n){var o;if(r===i&&n===i)return t;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=li(r),n=li(n)):(r=ui(r),n=ui(n)),o=e(r,n)}return o}}function Hi(e){return ro((function(t){return t=Rt(t,Qt(uo())),Yn((function(r){var n=this;return e(t,(function(e){return Tt(e,n,r)}))}))}))}function zi(e,t){var r=(t=t===i?" ":li(t)).length;if(r<2)return r?Kn(t,e):t;var n=Kn(t,ht(e/hr(t)));return sr(t)?xi(pr(n),0,e).join(""):n.slice(0,e)}function Wi(e){return function(t,n,o){return o&&"number"!=typeof o&&_o(t,n,o)&&(n=o=i),t=hs(t),n===i?(n=t,t=0):n=hs(n),function(e,t,n,i){for(var o=-1,a=Gt(ht((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,o=o===i?t<n?1:-1:hs(o),e)}}function qi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=vs(t),r=vs(r)),e(t,r)}}function Xi(e,t,r,n,o,a,s,u,f,d){var h=8&t;t|=h?l:c,4&(t&=~(h?c:l))||(t&=-4);var p=[e,t,o,h?a:i,h?s:i,h?i:a,h?i:s,u,f,d],g=r.apply(i,p);return wo(e)&&jo(g,p),g.placeholder=n,Ao(g,e,t)}function Gi(e){var t=De[e];return function(e,r){if(e=vs(e),(r=null==r?0:mr(ps(r),292))&&bt(e)){var n=(ms(e)+"e").split("e");return+((n=(ms(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Ki=Er&&1/fr(new Er([,-0]))[1]==h?function(e){return new Er(e)}:uu;function Yi(e){return function(t){var r=go(t);return r==D?ur(t):r==j?dr(t):function(e,t){return Rt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Zi(e,t,n,a,h,p,g,v){var y=2&t;if(!y&&"function"!=typeof e)throw new Ce(o);var m=a?a.length:0;if(m||(t&=-97,a=h=i),g=g===i?g:Gt(ps(g),0),v=v===i?v:ps(v),m-=h?h.length:0,t&c){var b=a,_=h;a=h=i}var x=y?i:oo(e),w=[e,t,n,a,h,b,_,p,g,v];if(x&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,a=n==f&&8==r||n==f&&r==d&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!a)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?Ti(l,u,t[4]):u,e[4]=l?cr(e[3],s):t[4]}(u=t[5])&&(l=e[5],e[5]=l?Ii(l,u,t[6]):u,e[6]=l?cr(e[5],s):t[6]);(u=t[7])&&(e[7]=u);n&f&&(e[8]=null==e[8]?t[8]:mr(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(w,x),e=w[0],t=w[1],n=w[2],a=w[3],h=w[4],!(v=w[9]=w[9]===i?y?0:e.length:Gt(w[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==u?function(e,t,n){var o=Li(e);return function a(){for(var s=arguments.length,u=r(s),l=s,c=so(a);l--;)u[l]=arguments[l];var f=s<3&&u[0]!==c&&u[s-1]!==c?[]:cr(u,c);return(s-=f.length)<n?Xi(e,t,Bi,a.placeholder,i,u,f,i,i,n-s):Tt(this&&this!==gt&&this instanceof a?o:e,this,u)}}(e,t,v):t!=l&&33!=t||h.length?Bi.apply(i,w):function(e,t,n,i){var o=1&t,a=Li(e);return function t(){for(var s=-1,u=arguments.length,l=-1,c=i.length,f=r(c+u),d=this&&this!==gt&&this instanceof t?a:e;++l<c;)f[l]=i[l];for(;u--;)f[l++]=arguments[++s];return Tt(d,o?n:this,f)}}(e,t,n,a);else var S=function(e,t,r){var n=1&t,i=Li(e);return function t(){return(this&&this!==gt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,n);return Ao((x?ei:jo)(S,w),e,t)}function Ji(e,t,r,n){return e===i||Ba(e,Pe[r])&&!Re.call(n,r)?t:e}function Qi(e,t,r,n,o,a){return es(e)&&es(t)&&(a.set(t,e),Un(e,t,i,Qi,a),a.delete(t)),e}function eo(e){return is(e)?i:e}function to(e,t,r,n,o,a){var s=1&r,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;var c=a.get(e),f=a.get(t);if(c&&f)return c==t&&f==e;var d=-1,h=!0,p=2&r?new Xr:i;for(a.set(e,t),a.set(t,e);++d<u;){var g=e[d],v=t[d];if(n)var y=s?n(v,g,d,t,e,a):n(g,v,d,e,t,a);if(y!==i){if(y)continue;h=!1;break}if(p){if(!Vt(t,(function(e,t){if(!tr(p,t)&&(g===e||o(g,e,r,n,a)))return p.push(t)}))){h=!1;break}}else if(g!==v&&!o(g,v,r,n,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function ro(e){return Po(To(e,i,Wo),e+"")}function no(e){return On(e,ks,ho)}function io(e){return On(e,Ps,po)}var oo=Cr?function(e){return Cr.get(e)}:uu;function ao(e){for(var t=e.name+"",r=jr[t],n=Re.call(jr,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function so(e){return(Re.call(Vr,"placeholder")?Vr:e).placeholder}function uo(){var e=Vr.iteratee||iu;return e=e===iu?Rn:e,arguments.length?e(arguments[0],arguments[1]):e}function lo(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function co(e){for(var t=ks(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Do(i)]}return t}function fo(e,t){var r=function(e,t){return null==e?i:e[t]}(e,t);return Nn(r)?r:i}var ho=vt?function(e){return null==e?[]:(e=Ee(e),Pt(vt(e),(function(t){return Ge.call(e,t)})))}:gu,po=vt?function(e){for(var t=[];e;)Mt(t,ho(e)),e=qe(e);return t}:gu,go=Dn;function vo(e,t,r){for(var n=-1,i=(t=bi(t,e)).length,o=!1;++n<i;){var a=Lo(t[n]);if(!(o=null!=e&&r(e,a)))break;e=e[a]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&Qa(i)&&bo(a,i)&&(za(e)||Ha(e))}function yo(e){return"function"!=typeof e.constructor||Oo(e)?{}:Br(qe(e))}function mo(e){return za(e)||Ha(e)||!!(Ye&&e&&e[Ye])}function bo(e,t){var r=typeof e;return!!(t=null==t?p:t)&&("number"==r||"symbol"!=r&&_e.test(e))&&e>-1&&e%1==0&&e<t}function _o(e,t,r){if(!es(r))return!1;var n=typeof t;return!!("number"==n?qa(r)&&bo(t,r.length):"string"==n&&t in r)&&Ba(r[t],e)}function xo(e,t){if(za(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!us(e))||(re.test(e)||!te.test(e)||null!=t&&e in Ee(t))}function wo(e){var t=ao(e),r=Vr[t];if("function"!=typeof r||!(t in Hr.prototype))return!1;if(e===r)return!0;var n=oo(r);return!!n&&e===n[0]}(Sr&&go(new Sr(new ArrayBuffer(1)))!=R||Or&&go(new Or)!=D||Dr&&go(Dr.resolve())!=I||Er&&go(new Er)!=j||Tr&&go(new Tr)!=A)&&(go=function(e){var t=Dn(e),r=t==T?e.constructor:i,n=r?Fo(r):"";if(n)switch(n){case kr:return R;case Pr:return D;case Ar:return I;case Nr:return j;case Rr:return A}return t});var So=Ae?Za:vu;function Oo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pe)}function Do(e){return e===e&&!es(e)}function Eo(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==i||e in Ee(r)))}}function To(e,t,n){return t=Gt(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=Gt(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=r(t+1);++o<t;)u[o]=i[o];return u[t]=n(s),Tt(e,this,u)}}function Io(e,t){return t.length<2?e:Sn(e,ni(t,0,-1))}function Co(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var jo=No(ei),ko=ct||function(e,t){return gt.setTimeout(e,t)},Po=No(ti);function Ao(e,t,r){var n=t+"";return Po(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Ct(y,(function(r){var n="_."+r[0];t&r[1]&&!At(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(n),r)))}function No(e){var t=0,r=0;return function(){var n=br(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ro(e,t){var r=-1,n=e.length,o=n-1;for(t=t===i?n:t;++r<t;){var a=Gn(r,o),s=e[a];e[a]=e[r],e[r]=s}return e.length=t,e}var Mo=function(e){var t=Na(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,r,n,i){t.push(n?i.replace(he,"$1"):r||e)})),t}));function Lo(e){if("string"==typeof e||us(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Fo(e){if(null!=e){try{return Ne.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Vo(e){if(e instanceof Hr)return e.clone();var t=new Ur(e.__wrapped__,e.__chain__);return t.__actions__=Ci(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Bo=Yn((function(e,t){return Xa(e)?fn(e,yn(t,1,Xa,!0)):[]})),$o=Yn((function(e,t){var r=Yo(t);return Xa(r)&&(r=i),Xa(e)?fn(e,yn(t,1,Xa,!0),uo(r,2)):[]})),Uo=Yn((function(e,t){var r=Yo(t);return Xa(r)&&(r=i),Xa(e)?fn(e,yn(t,1,Xa,!0),i,r):[]}));function Ho(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ps(r);return i<0&&(i=Gt(n+i,0)),Ut(e,uo(t,3),i)}function zo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return r!==i&&(o=ps(r),o=r<0?Gt(n+o,0):mr(o,n-1)),Ut(e,uo(t,3),o,!0)}function Wo(e){return(null==e?0:e.length)?yn(e,1):[]}function qo(e){return e&&e.length?e[0]:i}var Xo=Yn((function(e){var t=Rt(e,yi);return t.length&&t[0]===e[0]?Cn(t):[]})),Go=Yn((function(e){var t=Yo(e),r=Rt(e,yi);return t===Yo(r)?t=i:r.pop(),r.length&&r[0]===e[0]?Cn(r,uo(t,2)):[]})),Ko=Yn((function(e){var t=Yo(e),r=Rt(e,yi);return(t="function"==typeof t?t:i)&&r.pop(),r.length&&r[0]===e[0]?Cn(r,i,t):[]}));function Yo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Zo=Yn(Jo);function Jo(e,t){return e&&e.length&&t&&t.length?qn(e,t):e}var Qo=ro((function(e,t){var r=null==e?0:e.length,n=an(e,t);return Xn(e,Rt(t,(function(e){return bo(e,r)?+e:e})).sort(Ei)),n}));function ea(e){return null==e?e:wr.call(e)}var ta=Yn((function(e){return ci(yn(e,1,Xa,!0))})),ra=Yn((function(e){var t=Yo(e);return Xa(t)&&(t=i),ci(yn(e,1,Xa,!0),uo(t,2))})),na=Yn((function(e){var t=Yo(e);return t="function"==typeof t?t:i,ci(yn(e,1,Xa,!0),i,t)}));function ia(e){if(!e||!e.length)return[];var t=0;return e=Pt(e,(function(e){if(Xa(e))return t=Gt(e.length,t),!0})),Zt(t,(function(t){return Rt(e,Xt(t))}))}function oa(e,t){if(!e||!e.length)return[];var r=ia(e);return null==t?r:Rt(r,(function(e){return Tt(t,i,e)}))}var aa=Yn((function(e,t){return Xa(e)?fn(e,t):[]})),sa=Yn((function(e){return gi(Pt(e,Xa))})),ua=Yn((function(e){var t=Yo(e);return Xa(t)&&(t=i),gi(Pt(e,Xa),uo(t,2))})),la=Yn((function(e){var t=Yo(e);return t="function"==typeof t?t:i,gi(Pt(e,Xa),i,t)})),ca=Yn(ia);var fa=Yn((function(e){var t=e.length,r=t>1?e[t-1]:i;return r="function"==typeof r?(e.pop(),r):i,oa(e,r)}));function da(e){var t=Vr(e);return t.__chain__=!0,t}function ha(e,t){return t(e)}var pa=ro((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,o=function(t){return an(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Hr&&bo(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:ha,args:[o],thisArg:i}),new Ur(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var ga=ki((function(e,t,r){Re.call(e,r)?++e[r]:on(e,r,1)}));var va=Fi(Ho),ya=Fi(zo);function ma(e,t){return(za(e)?Ct:dn)(e,uo(t,3))}function ba(e,t){return(za(e)?jt:hn)(e,uo(t,3))}var _a=ki((function(e,t,r){Re.call(e,r)?e[r].push(t):on(e,r,[t])}));var xa=Yn((function(e,t,n){var i=-1,o="function"==typeof t,a=qa(e)?r(e.length):[];return dn(e,(function(e){a[++i]=o?Tt(t,e,n):jn(e,t,n)})),a})),wa=ki((function(e,t,r){on(e,r,t)}));function Sa(e,t){return(za(e)?Rt:Vn)(e,uo(t,3))}var Oa=ki((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var Da=Yn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&_o(e,t[0],t[1])?t=[]:r>2&&_o(t[0],t[1],t[2])&&(t=[t[0]]),zn(e,yn(t,1),[])})),Ea=it||function(){return gt.Date.now()};function Ta(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,Zi(e,f,i,i,i,i,t)}function Ia(e,t){var r;if("function"!=typeof t)throw new Ce(o);return e=ps(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var Ca=Yn((function(e,t,r){var n=1;if(r.length){var i=cr(r,so(Ca));n|=l}return Zi(e,n,t,r,i)})),ja=Yn((function(e,t,r){var n=3;if(r.length){var i=cr(r,so(ja));n|=l}return Zi(t,n,e,r,i)}));function ka(e,t,r){var n,a,s,u,l,c,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new Ce(o);function g(t){var r=n,o=a;return n=a=i,f=t,u=e.apply(o,r)}function v(e){var r=e-c;return c===i||r>=t||r<0||h&&e-f>=s}function y(){var e=Ea();if(v(e))return m(e);l=ko(y,function(e){var r=t-(e-c);return h?mr(r,s-(e-f)):r}(e))}function m(e){return l=i,p&&n?g(e):(n=a=i,u)}function b(){var e=Ea(),r=v(e);if(n=arguments,a=this,c=e,r){if(l===i)return function(e){return f=e,l=ko(y,t),d?g(e):u}(c);if(h)return wi(l),l=ko(y,t),g(c)}return l===i&&(l=ko(y,t)),u}return t=vs(t)||0,es(r)&&(d=!!r.leading,s=(h="maxWait"in r)?Gt(vs(r.maxWait)||0,t):s,p="trailing"in r?!!r.trailing:p),b.cancel=function(){l!==i&&wi(l),f=0,n=c=a=l=i},b.flush=function(){return l===i?u:m(Ea())},b}var Pa=Yn((function(e,t){return cn(e,1,t)})),Aa=Yn((function(e,t,r){return cn(e,vs(t)||0,r)}));function Na(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ce(o);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Na.Cache||qr),r}function Ra(e){if("function"!=typeof e)throw new Ce(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Na.Cache=qr;var Ma=_i((function(e,t){var r=(t=1==t.length&&za(t[0])?Rt(t[0],Qt(uo())):Rt(yn(t,1),Qt(uo()))).length;return Yn((function(n){for(var i=-1,o=mr(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return Tt(e,this,n)}))})),La=Yn((function(e,t){var r=cr(t,so(La));return Zi(e,l,i,t,r)})),Fa=Yn((function(e,t){var r=cr(t,so(Fa));return Zi(e,c,i,t,r)})),Va=ro((function(e,t){return Zi(e,d,i,i,i,t)}));function Ba(e,t){return e===t||e!==e&&t!==t}var $a=qi(En),Ua=qi((function(e,t){return e>=t})),Ha=kn(function(){return arguments}())?kn:function(e){return ts(e)&&Re.call(e,"callee")&&!Ge.call(e,"callee")},za=r.isArray,Wa=xt?Qt(xt):function(e){return ts(e)&&Dn(e)==N};function qa(e){return null!=e&&Qa(e.length)&&!Za(e)}function Xa(e){return ts(e)&&qa(e)}var Ga=yt||vu,Ka=wt?Qt(wt):function(e){return ts(e)&&Dn(e)==x};function Ya(e){if(!ts(e))return!1;var t=Dn(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!is(e)}function Za(e){if(!es(e))return!1;var t=Dn(e);return t==S||t==O||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ja(e){return"number"==typeof e&&e==ps(e)}function Qa(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function es(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ts(e){return null!=e&&"object"==typeof e}var rs=St?Qt(St):function(e){return ts(e)&&go(e)==D};function ns(e){return"number"==typeof e||ts(e)&&Dn(e)==E}function is(e){if(!ts(e)||Dn(e)!=T)return!1;var t=qe(e);if(null===t)return!0;var r=Re.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Ne.call(r)==Ve}var os=Ot?Qt(Ot):function(e){return ts(e)&&Dn(e)==C};var as=Dt?Qt(Dt):function(e){return ts(e)&&go(e)==j};function ss(e){return"string"==typeof e||!za(e)&&ts(e)&&Dn(e)==k}function us(e){return"symbol"==typeof e||ts(e)&&Dn(e)==P}var ls=Et?Qt(Et):function(e){return ts(e)&&Qa(e.length)&&!!ut[Dn(e)]};var cs=qi(Fn),fs=qi((function(e,t){return e<=t}));function ds(e){if(!e)return[];if(qa(e))return ss(e)?pr(e):Ci(e);if(Ze&&e[Ze])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Ze]());var t=go(e);return(t==D?ur:t==j?fr:Bs)(e)}function hs(e){return e?(e=vs(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function ps(e){var t=hs(e),r=t%1;return t===t?r?t-r:t:0}function gs(e){return e?sn(ps(e),0,v):0}function vs(e){if("number"==typeof e)return e;if(us(e))return g;if(es(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=es(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Jt(e);var r=ye.test(e);return r||be.test(e)?dt(e.slice(2),r?2:8):ve.test(e)?g:+e}function ys(e){return ji(e,Ps(e))}function ms(e){return null==e?"":li(e)}var bs=Pi((function(e,t){if(Oo(t)||qa(t))ji(t,ks(t),e);else for(var r in t)Re.call(t,r)&&en(e,r,t[r])})),_s=Pi((function(e,t){ji(t,Ps(t),e)})),xs=Pi((function(e,t,r,n){ji(t,Ps(t),e,n)})),ws=Pi((function(e,t,r,n){ji(t,ks(t),e,n)})),Ss=ro(an);var Os=Yn((function(e,t){e=Ee(e);var r=-1,n=t.length,o=n>2?t[2]:i;for(o&&_o(t[0],t[1],o)&&(n=1);++r<n;)for(var a=t[r],s=Ps(a),u=-1,l=s.length;++u<l;){var c=s[u],f=e[c];(f===i||Ba(f,Pe[c])&&!Re.call(e,c))&&(e[c]=a[c])}return e})),Ds=Yn((function(e){return e.push(i,Qi),Tt(Ns,i,e)}));function Es(e,t,r){var n=null==e?i:Sn(e,t);return n===i?r:n}function Ts(e,t){return null!=e&&vo(e,t,In)}var Is=$i((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=r}),eu(nu)),Cs=$i((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Re.call(e,t)?e[t].push(r):e[t]=[r]}),uo),js=Yn(jn);function ks(e){return qa(e)?Kr(e):Mn(e)}function Ps(e){return qa(e)?Kr(e,!0):Ln(e)}var As=Pi((function(e,t,r){Un(e,t,r)})),Ns=Pi((function(e,t,r,n){Un(e,t,r,n)})),Rs=ro((function(e,t){var r={};if(null==e)return r;var n=!1;t=Rt(t,(function(t){return t=bi(t,e),n||(n=t.length>1),t})),ji(e,io(e),r),n&&(r=un(r,7,eo));for(var i=t.length;i--;)fi(r,t[i]);return r}));var Ms=ro((function(e,t){return null==e?{}:function(e,t){return Wn(e,t,(function(t,r){return Ts(e,r)}))}(e,t)}));function Ls(e,t){if(null==e)return{};var r=Rt(io(e),(function(e){return[e]}));return t=uo(t),Wn(e,r,(function(e,r){return t(e,r[0])}))}var Fs=Yi(ks),Vs=Yi(Ps);function Bs(e){return null==e?[]:er(e,ks(e))}var $s=Mi((function(e,t,r){return t=t.toLowerCase(),e+(r?Us(t):t)}));function Us(e){return Ys(ms(e).toLowerCase())}function Hs(e){return(e=ms(e))&&e.replace(xe,ir).replace(tt,"")}var zs=Mi((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Ws=Mi((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),qs=Ri("toLowerCase");var Xs=Mi((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var Gs=Mi((function(e,t,r){return e+(r?" ":"")+Ys(t)}));var Ks=Mi((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Ys=Ri("toUpperCase");function Zs(e,t,r){return e=ms(e),(t=r?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var Js=Yn((function(e,t){try{return Tt(e,i,t)}catch(r){return Ya(r)?r:new se(r)}})),Qs=ro((function(e,t){return Ct(t,(function(t){t=Lo(t),on(e,t,Ca(e[t],e))})),e}));function eu(e){return function(){return e}}var tu=Vi(),ru=Vi(!0);function nu(e){return e}function iu(e){return Rn("function"==typeof e?e:un(e,1))}var ou=Yn((function(e,t){return function(r){return jn(r,e,t)}})),au=Yn((function(e,t){return function(r){return jn(e,r,t)}}));function su(e,t,r){var n=ks(t),i=wn(t,n);null!=r||es(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=wn(t,ks(t)));var o=!(es(r)&&"chain"in r)||!!r.chain,a=Za(e);return Ct(i,(function(r){var n=t[r];e[r]=n,a&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__);return(r.__actions__=Ci(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Mt([this.value()],arguments))})})),e}function uu(){}var lu=Hi(Rt),cu=Hi(kt),fu=Hi(Vt);function du(e){return xo(e)?Xt(Lo(e)):function(e){return function(t){return Sn(t,e)}}(e)}var hu=Wi(),pu=Wi(!0);function gu(){return[]}function vu(){return!1}var yu=Ui((function(e,t){return e+t}),0),mu=Gi("ceil"),bu=Ui((function(e,t){return e/t}),1),_u=Gi("floor");var xu=Ui((function(e,t){return e*t}),1),wu=Gi("round"),Su=Ui((function(e,t){return e-t}),0);return Vr.after=function(e,t){if("function"!=typeof t)throw new Ce(o);return e=ps(e),function(){if(--e<1)return t.apply(this,arguments)}},Vr.ary=Ta,Vr.assign=bs,Vr.assignIn=_s,Vr.assignInWith=xs,Vr.assignWith=ws,Vr.at=Ss,Vr.before=Ia,Vr.bind=Ca,Vr.bindAll=Qs,Vr.bindKey=ja,Vr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return za(e)?e:[e]},Vr.chain=da,Vr.chunk=function(e,t,n){t=(n?_o(e,t,n):t===i)?1:Gt(ps(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,u=r(ht(o/t));a<o;)u[s++]=ni(e,a,a+=t);return u},Vr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},Vr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Mt(za(n)?Ci(n):[n],yn(t,1))},Vr.cond=function(e){var t=null==e?0:e.length,r=uo();return e=t?Rt(e,(function(e){if("function"!=typeof e[1])throw new Ce(o);return[r(e[0]),e[1]]})):[],Yn((function(r){for(var n=-1;++n<t;){var i=e[n];if(Tt(i[0],this,r))return Tt(i[1],this,r)}}))},Vr.conforms=function(e){return function(e){var t=ks(e);return function(r){return ln(r,e,t)}}(un(e,1))},Vr.constant=eu,Vr.countBy=ga,Vr.create=function(e,t){var r=Br(e);return null==t?r:nn(r,t)},Vr.curry=function e(t,r,n){var o=Zi(t,8,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},Vr.curryRight=function e(t,r,n){var o=Zi(t,u,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},Vr.debounce=ka,Vr.defaults=Os,Vr.defaultsDeep=Ds,Vr.defer=Pa,Vr.delay=Aa,Vr.difference=Bo,Vr.differenceBy=$o,Vr.differenceWith=Uo,Vr.drop=function(e,t,r){var n=null==e?0:e.length;return n?ni(e,(t=r||t===i?1:ps(t))<0?0:t,n):[]},Vr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?ni(e,0,(t=n-(t=r||t===i?1:ps(t)))<0?0:t):[]},Vr.dropRightWhile=function(e,t){return e&&e.length?hi(e,uo(t,3),!0,!0):[]},Vr.dropWhile=function(e,t){return e&&e.length?hi(e,uo(t,3),!0):[]},Vr.fill=function(e,t,r,n){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&_o(e,t,r)&&(r=0,n=o),function(e,t,r,n){var o=e.length;for((r=ps(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:ps(n))<0&&(n+=o),n=r>n?0:gs(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},Vr.filter=function(e,t){return(za(e)?Pt:vn)(e,uo(t,3))},Vr.flatMap=function(e,t){return yn(Sa(e,t),1)},Vr.flatMapDeep=function(e,t){return yn(Sa(e,t),h)},Vr.flatMapDepth=function(e,t,r){return r=r===i?1:ps(r),yn(Sa(e,t),r)},Vr.flatten=Wo,Vr.flattenDeep=function(e){return(null==e?0:e.length)?yn(e,h):[]},Vr.flattenDepth=function(e,t){return(null==e?0:e.length)?yn(e,t=t===i?1:ps(t)):[]},Vr.flip=function(e){return Zi(e,512)},Vr.flow=tu,Vr.flowRight=ru,Vr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},Vr.functions=function(e){return null==e?[]:wn(e,ks(e))},Vr.functionsIn=function(e){return null==e?[]:wn(e,Ps(e))},Vr.groupBy=_a,Vr.initial=function(e){return(null==e?0:e.length)?ni(e,0,-1):[]},Vr.intersection=Xo,Vr.intersectionBy=Go,Vr.intersectionWith=Ko,Vr.invert=Is,Vr.invertBy=Cs,Vr.invokeMap=xa,Vr.iteratee=iu,Vr.keyBy=wa,Vr.keys=ks,Vr.keysIn=Ps,Vr.map=Sa,Vr.mapKeys=function(e,t){var r={};return t=uo(t,3),_n(e,(function(e,n,i){on(r,t(e,n,i),e)})),r},Vr.mapValues=function(e,t){var r={};return t=uo(t,3),_n(e,(function(e,n,i){on(r,n,t(e,n,i))})),r},Vr.matches=function(e){return Bn(un(e,1))},Vr.matchesProperty=function(e,t){return $n(e,un(t,1))},Vr.memoize=Na,Vr.merge=As,Vr.mergeWith=Ns,Vr.method=ou,Vr.methodOf=au,Vr.mixin=su,Vr.negate=Ra,Vr.nthArg=function(e){return e=ps(e),Yn((function(t){return Hn(t,e)}))},Vr.omit=Rs,Vr.omitBy=function(e,t){return Ls(e,Ra(uo(t)))},Vr.once=function(e){return Ia(2,e)},Vr.orderBy=function(e,t,r,n){return null==e?[]:(za(t)||(t=null==t?[]:[t]),za(r=n?i:r)||(r=null==r?[]:[r]),zn(e,t,r))},Vr.over=lu,Vr.overArgs=Ma,Vr.overEvery=cu,Vr.overSome=fu,Vr.partial=La,Vr.partialRight=Fa,Vr.partition=Oa,Vr.pick=Ms,Vr.pickBy=Ls,Vr.property=du,Vr.propertyOf=function(e){return function(t){return null==e?i:Sn(e,t)}},Vr.pull=Zo,Vr.pullAll=Jo,Vr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?qn(e,t,uo(r,2)):e},Vr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?qn(e,t,i,r):e},Vr.pullAt=Qo,Vr.range=hu,Vr.rangeRight=pu,Vr.rearg=Va,Vr.reject=function(e,t){return(za(e)?Pt:vn)(e,Ra(uo(t,3)))},Vr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=uo(t,3);++n<o;){var a=e[n];t(a,n,e)&&(r.push(a),i.push(n))}return Xn(e,i),r},Vr.rest=function(e,t){if("function"!=typeof e)throw new Ce(o);return Yn(e,t=t===i?t:ps(t))},Vr.reverse=ea,Vr.sampleSize=function(e,t,r){return t=(r?_o(e,t,r):t===i)?1:ps(t),(za(e)?Zr:Jn)(e,t)},Vr.set=function(e,t,r){return null==e?e:Qn(e,t,r)},Vr.setWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:Qn(e,t,r,n)},Vr.shuffle=function(e){return(za(e)?Jr:ri)(e)},Vr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&_o(e,t,r)?(t=0,r=n):(t=null==t?0:ps(t),r=r===i?n:ps(r)),ni(e,t,r)):[]},Vr.sortBy=Da,Vr.sortedUniq=function(e){return e&&e.length?si(e):[]},Vr.sortedUniqBy=function(e,t){return e&&e.length?si(e,uo(t,2)):[]},Vr.split=function(e,t,r){return r&&"number"!=typeof r&&_o(e,t,r)&&(t=r=i),(r=r===i?v:r>>>0)?(e=ms(e))&&("string"==typeof t||null!=t&&!os(t))&&!(t=li(t))&&sr(e)?xi(pr(e),0,r):e.split(t,r):[]},Vr.spread=function(e,t){if("function"!=typeof e)throw new Ce(o);return t=null==t?0:Gt(ps(t),0),Yn((function(r){var n=r[t],i=xi(r,0,t);return n&&Mt(i,n),Tt(e,this,i)}))},Vr.tail=function(e){var t=null==e?0:e.length;return t?ni(e,1,t):[]},Vr.take=function(e,t,r){return e&&e.length?ni(e,0,(t=r||t===i?1:ps(t))<0?0:t):[]},Vr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?ni(e,(t=n-(t=r||t===i?1:ps(t)))<0?0:t,n):[]},Vr.takeRightWhile=function(e,t){return e&&e.length?hi(e,uo(t,3),!1,!0):[]},Vr.takeWhile=function(e,t){return e&&e.length?hi(e,uo(t,3)):[]},Vr.tap=function(e,t){return t(e),e},Vr.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new Ce(o);return es(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),ka(e,t,{leading:n,maxWait:t,trailing:i})},Vr.thru=ha,Vr.toArray=ds,Vr.toPairs=Fs,Vr.toPairsIn=Vs,Vr.toPath=function(e){return za(e)?Rt(e,Lo):us(e)?[e]:Ci(Mo(ms(e)))},Vr.toPlainObject=ys,Vr.transform=function(e,t,r){var n=za(e),i=n||Ga(e)||ls(e);if(t=uo(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:es(e)&&Za(o)?Br(qe(e)):{}}return(i?Ct:_n)(e,(function(e,n,i){return t(r,e,n,i)})),r},Vr.unary=function(e){return Ta(e,1)},Vr.union=ta,Vr.unionBy=ra,Vr.unionWith=na,Vr.uniq=function(e){return e&&e.length?ci(e):[]},Vr.uniqBy=function(e,t){return e&&e.length?ci(e,uo(t,2)):[]},Vr.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ci(e,i,t):[]},Vr.unset=function(e,t){return null==e||fi(e,t)},Vr.unzip=ia,Vr.unzipWith=oa,Vr.update=function(e,t,r){return null==e?e:di(e,t,mi(r))},Vr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:di(e,t,mi(r),n)},Vr.values=Bs,Vr.valuesIn=function(e){return null==e?[]:er(e,Ps(e))},Vr.without=aa,Vr.words=Zs,Vr.wrap=function(e,t){return La(mi(t),e)},Vr.xor=sa,Vr.xorBy=ua,Vr.xorWith=la,Vr.zip=ca,Vr.zipObject=function(e,t){return vi(e||[],t||[],en)},Vr.zipObjectDeep=function(e,t){return vi(e||[],t||[],Qn)},Vr.zipWith=fa,Vr.entries=Fs,Vr.entriesIn=Vs,Vr.extend=_s,Vr.extendWith=xs,su(Vr,Vr),Vr.add=yu,Vr.attempt=Js,Vr.camelCase=$s,Vr.capitalize=Us,Vr.ceil=mu,Vr.clamp=function(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=vs(r))===r?r:0),t!==i&&(t=(t=vs(t))===t?t:0),sn(vs(e),t,r)},Vr.clone=function(e){return un(e,4)},Vr.cloneDeep=function(e){return un(e,5)},Vr.cloneDeepWith=function(e,t){return un(e,5,t="function"==typeof t?t:i)},Vr.cloneWith=function(e,t){return un(e,4,t="function"==typeof t?t:i)},Vr.conformsTo=function(e,t){return null==t||ln(e,t,ks(t))},Vr.deburr=Hs,Vr.defaultTo=function(e,t){return null==e||e!==e?t:e},Vr.divide=bu,Vr.endsWith=function(e,t,r){e=ms(e),t=li(t);var n=e.length,o=r=r===i?n:sn(ps(r),0,n);return(r-=t.length)>=0&&e.slice(r,o)==t},Vr.eq=Ba,Vr.escape=function(e){return(e=ms(e))&&Z.test(e)?e.replace(K,or):e},Vr.escapeRegExp=function(e){return(e=ms(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Vr.every=function(e,t,r){var n=za(e)?kt:pn;return r&&_o(e,t,r)&&(t=i),n(e,uo(t,3))},Vr.find=va,Vr.findIndex=Ho,Vr.findKey=function(e,t){return $t(e,uo(t,3),_n)},Vr.findLast=ya,Vr.findLastIndex=zo,Vr.findLastKey=function(e,t){return $t(e,uo(t,3),xn)},Vr.floor=_u,Vr.forEach=ma,Vr.forEachRight=ba,Vr.forIn=function(e,t){return null==e?e:mn(e,uo(t,3),Ps)},Vr.forInRight=function(e,t){return null==e?e:bn(e,uo(t,3),Ps)},Vr.forOwn=function(e,t){return e&&_n(e,uo(t,3))},Vr.forOwnRight=function(e,t){return e&&xn(e,uo(t,3))},Vr.get=Es,Vr.gt=$a,Vr.gte=Ua,Vr.has=function(e,t){return null!=e&&vo(e,t,Tn)},Vr.hasIn=Ts,Vr.head=qo,Vr.identity=nu,Vr.includes=function(e,t,r,n){e=qa(e)?e:Bs(e),r=r&&!n?ps(r):0;var i=e.length;return r<0&&(r=Gt(i+r,0)),ss(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Ht(e,t,r)>-1},Vr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:ps(r);return i<0&&(i=Gt(n+i,0)),Ht(e,t,i)},Vr.inRange=function(e,t,r){return t=hs(t),r===i?(r=t,t=0):r=hs(r),function(e,t,r){return e>=mr(t,r)&&e<Gt(t,r)}(e=vs(e),t,r)},Vr.invoke=js,Vr.isArguments=Ha,Vr.isArray=za,Vr.isArrayBuffer=Wa,Vr.isArrayLike=qa,Vr.isArrayLikeObject=Xa,Vr.isBoolean=function(e){return!0===e||!1===e||ts(e)&&Dn(e)==_},Vr.isBuffer=Ga,Vr.isDate=Ka,Vr.isElement=function(e){return ts(e)&&1===e.nodeType&&!is(e)},Vr.isEmpty=function(e){if(null==e)return!0;if(qa(e)&&(za(e)||"string"==typeof e||"function"==typeof e.splice||Ga(e)||ls(e)||Ha(e)))return!e.length;var t=go(e);if(t==D||t==j)return!e.size;if(Oo(e))return!Mn(e).length;for(var r in e)if(Re.call(e,r))return!1;return!0},Vr.isEqual=function(e,t){return Pn(e,t)},Vr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:i)?r(e,t):i;return n===i?Pn(e,t,i,r):!!n},Vr.isError=Ya,Vr.isFinite=function(e){return"number"==typeof e&&bt(e)},Vr.isFunction=Za,Vr.isInteger=Ja,Vr.isLength=Qa,Vr.isMap=rs,Vr.isMatch=function(e,t){return e===t||An(e,t,co(t))},Vr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:i,An(e,t,co(t),r)},Vr.isNaN=function(e){return ns(e)&&e!=+e},Vr.isNative=function(e){if(So(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Nn(e)},Vr.isNil=function(e){return null==e},Vr.isNull=function(e){return null===e},Vr.isNumber=ns,Vr.isObject=es,Vr.isObjectLike=ts,Vr.isPlainObject=is,Vr.isRegExp=os,Vr.isSafeInteger=function(e){return Ja(e)&&e>=-9007199254740991&&e<=p},Vr.isSet=as,Vr.isString=ss,Vr.isSymbol=us,Vr.isTypedArray=ls,Vr.isUndefined=function(e){return e===i},Vr.isWeakMap=function(e){return ts(e)&&go(e)==A},Vr.isWeakSet=function(e){return ts(e)&&"[object WeakSet]"==Dn(e)},Vr.join=function(e,t){return null==e?"":_t.call(e,t)},Vr.kebabCase=zs,Vr.last=Yo,Vr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=ps(r))<0?Gt(n+o,0):mr(o,n-1)),t===t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,o):Ut(e,Wt,o,!0)},Vr.lowerCase=Ws,Vr.lowerFirst=qs,Vr.lt=cs,Vr.lte=fs,Vr.max=function(e){return e&&e.length?gn(e,nu,En):i},Vr.maxBy=function(e,t){return e&&e.length?gn(e,uo(t,2),En):i},Vr.mean=function(e){return qt(e,nu)},Vr.meanBy=function(e,t){return qt(e,uo(t,2))},Vr.min=function(e){return e&&e.length?gn(e,nu,Fn):i},Vr.minBy=function(e,t){return e&&e.length?gn(e,uo(t,2),Fn):i},Vr.stubArray=gu,Vr.stubFalse=vu,Vr.stubObject=function(){return{}},Vr.stubString=function(){return""},Vr.stubTrue=function(){return!0},Vr.multiply=xu,Vr.nth=function(e,t){return e&&e.length?Hn(e,ps(t)):i},Vr.noConflict=function(){return gt._===this&&(gt._=Be),this},Vr.noop=uu,Vr.now=Ea,Vr.pad=function(e,t,r){e=ms(e);var n=(t=ps(t))?hr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return zi(pt(i),r)+e+zi(ht(i),r)},Vr.padEnd=function(e,t,r){e=ms(e);var n=(t=ps(t))?hr(e):0;return t&&n<t?e+zi(t-n,r):e},Vr.padStart=function(e,t,r){e=ms(e);var n=(t=ps(t))?hr(e):0;return t&&n<t?zi(t-n,r)+e:e},Vr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),_r(ms(e).replace(ae,""),t||0)},Vr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&_o(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=hs(e),t===i?(t=e,e=0):t=hs(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var o=xr();return mr(e+o*(t-e+ft("1e-"+((o+"").length-1))),t)}return Gn(e,t)},Vr.reduce=function(e,t,r){var n=za(e)?Lt:Kt,i=arguments.length<3;return n(e,uo(t,4),r,i,dn)},Vr.reduceRight=function(e,t,r){var n=za(e)?Ft:Kt,i=arguments.length<3;return n(e,uo(t,4),r,i,hn)},Vr.repeat=function(e,t,r){return t=(r?_o(e,t,r):t===i)?1:ps(t),Kn(ms(e),t)},Vr.replace=function(){var e=arguments,t=ms(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Vr.result=function(e,t,r){var n=-1,o=(t=bi(t,e)).length;for(o||(o=1,e=i);++n<o;){var a=null==e?i:e[Lo(t[n])];a===i&&(n=o,a=r),e=Za(a)?a.call(e):a}return e},Vr.round=wu,Vr.runInContext=e,Vr.sample=function(e){return(za(e)?Yr:Zn)(e)},Vr.size=function(e){if(null==e)return 0;if(qa(e))return ss(e)?hr(e):e.length;var t=go(e);return t==D||t==j?e.size:Mn(e).length},Vr.snakeCase=Xs,Vr.some=function(e,t,r){var n=za(e)?Vt:ii;return r&&_o(e,t,r)&&(t=i),n(e,uo(t,3))},Vr.sortedIndex=function(e,t){return oi(e,t)},Vr.sortedIndexBy=function(e,t,r){return ai(e,t,uo(r,2))},Vr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=oi(e,t);if(n<r&&Ba(e[n],t))return n}return-1},Vr.sortedLastIndex=function(e,t){return oi(e,t,!0)},Vr.sortedLastIndexBy=function(e,t,r){return ai(e,t,uo(r,2),!0)},Vr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=oi(e,t,!0)-1;if(Ba(e[r],t))return r}return-1},Vr.startCase=Gs,Vr.startsWith=function(e,t,r){return e=ms(e),r=null==r?0:sn(ps(r),0,e.length),t=li(t),e.slice(r,r+t.length)==t},Vr.subtract=Su,Vr.sum=function(e){return e&&e.length?Yt(e,nu):0},Vr.sumBy=function(e,t){return e&&e.length?Yt(e,uo(t,2)):0},Vr.template=function(e,t,r){var n=Vr.templateSettings;r&&_o(e,t,r)&&(t=i),e=ms(e),t=xs({},t,n,Ji);var o,a,s=xs({},t.imports,n.imports,Ji),u=ks(s),l=er(s,u),c=0,f=t.interpolate||we,d="__p += '",h=Te((t.escape||we).source+"|"+f.source+"|"+(f===ee?pe:we).source+"|"+(t.evaluate||we).source+"|$","g"),p="//# sourceURL="+(Re.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(h,(function(t,r,n,i,s,u){return n||(n=i),d+=e.slice(c,u).replace(Se,ar),r&&(o=!0,d+="' +\n__e("+r+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=u+t.length,t})),d+="';\n";var g=Re.call(t,"variable")&&t.variable;if(g){if(de.test(g))throw new se("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(W,""):d).replace(q,"$1").replace(X,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=Js((function(){return Oe(u,p+"return "+d).apply(i,l)}));if(v.source=d,Ya(v))throw v;return v},Vr.times=function(e,t){if((e=ps(e))<1||e>p)return[];var r=v,n=mr(e,v);t=uo(t),e-=v;for(var i=Zt(n,t);++r<e;)t(r);return i},Vr.toFinite=hs,Vr.toInteger=ps,Vr.toLength=gs,Vr.toLower=function(e){return ms(e).toLowerCase()},Vr.toNumber=vs,Vr.toSafeInteger=function(e){return e?sn(ps(e),-9007199254740991,p):0===e?e:0},Vr.toString=ms,Vr.toUpper=function(e){return ms(e).toUpperCase()},Vr.trim=function(e,t,r){if((e=ms(e))&&(r||t===i))return Jt(e);if(!e||!(t=li(t)))return e;var n=pr(e),o=pr(t);return xi(n,rr(n,o),nr(n,o)+1).join("")},Vr.trimEnd=function(e,t,r){if((e=ms(e))&&(r||t===i))return e.slice(0,gr(e)+1);if(!e||!(t=li(t)))return e;var n=pr(e);return xi(n,0,nr(n,pr(t))+1).join("")},Vr.trimStart=function(e,t,r){if((e=ms(e))&&(r||t===i))return e.replace(ae,"");if(!e||!(t=li(t)))return e;var n=pr(e);return xi(n,rr(n,pr(t))).join("")},Vr.truncate=function(e,t){var r=30,n="...";if(es(t)){var o="separator"in t?t.separator:o;r="length"in t?ps(t.length):r,n="omission"in t?li(t.omission):n}var a=(e=ms(e)).length;if(sr(e)){var s=pr(e);a=s.length}if(r>=a)return e;var u=r-hr(n);if(u<1)return n;var l=s?xi(s,0,u).join(""):e.slice(0,u);if(o===i)return l+n;if(s&&(u+=l.length-u),os(o)){if(e.slice(u).search(o)){var c,f=l;for(o.global||(o=Te(o.source,ms(ge.exec(o))+"g")),o.lastIndex=0;c=o.exec(f);)var d=c.index;l=l.slice(0,d===i?u:d)}}else if(e.indexOf(li(o),u)!=u){var h=l.lastIndexOf(o);h>-1&&(l=l.slice(0,h))}return l+n},Vr.unescape=function(e){return(e=ms(e))&&Y.test(e)?e.replace(G,vr):e},Vr.uniqueId=function(e){var t=++Me;return ms(e)+t},Vr.upperCase=Ks,Vr.upperFirst=Ys,Vr.each=ma,Vr.eachRight=ba,Vr.first=qo,su(Vr,function(){var e={};return _n(Vr,(function(t,r){Re.call(Vr.prototype,r)||(e[r]=t)})),e}(),{chain:!1}),Vr.VERSION="4.17.21",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Vr[e].placeholder=Vr})),Ct(["drop","take"],(function(e,t){Hr.prototype[e]=function(r){r=r===i?1:Gt(ps(r),0);var n=this.__filtered__&&!t?new Hr(this):this.clone();return n.__filtered__?n.__takeCount__=mr(r,n.__takeCount__):n.__views__.push({size:mr(r,v),type:e+(n.__dir__<0?"Right":"")}),n},Hr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Hr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),Ct(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Hr.prototype[e]=function(){return this[r](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Hr.prototype[e]=function(){return this.__filtered__?new Hr(this):this[r](1)}})),Hr.prototype.compact=function(){return this.filter(nu)},Hr.prototype.find=function(e){return this.filter(e).head()},Hr.prototype.findLast=function(e){return this.reverse().find(e)},Hr.prototype.invokeMap=Yn((function(e,t){return"function"==typeof e?new Hr(this):this.map((function(r){return jn(r,e,t)}))})),Hr.prototype.reject=function(e){return this.filter(Ra(uo(e)))},Hr.prototype.slice=function(e,t){e=ps(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Hr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=ps(t))<0?r.dropRight(-t):r.take(t-e)),r)},Hr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hr.prototype.toArray=function(){return this.take(v)},_n(Hr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=Vr[n?"take"+("last"==t?"Right":""):t],a=n||/^find/.test(t);o&&(Vr.prototype[t]=function(){var t=this.__wrapped__,s=n?[1]:arguments,u=t instanceof Hr,l=s[0],c=u||za(t),f=function(e){var t=o.apply(Vr,Mt([e],s));return n&&d?t[0]:t};c&&r&&"function"==typeof l&&1!=l.length&&(u=c=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,g=u&&!h;if(!a&&c){t=g?t:new Hr(this);var v=e.apply(t,s);return v.__actions__.push({func:ha,args:[f],thisArg:i}),new Ur(v,d)}return p&&g?e.apply(this,s):(v=this.thru(f),p?n?v.value()[0]:v.value():v)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=je[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);Vr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(za(i)?i:[],e)}return this[r]((function(r){return t.apply(za(r)?r:[],e)}))}})),_n(Hr.prototype,(function(e,t){var r=Vr[t];if(r){var n=r.name+"";Re.call(jr,n)||(jr[n]=[]),jr[n].push({name:t,func:r})}})),jr[Bi(i,2).name]=[{name:"wrapper",func:i}],Hr.prototype.clone=function(){var e=new Hr(this.__wrapped__);return e.__actions__=Ci(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ci(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ci(this.__views__),e},Hr.prototype.reverse=function(){if(this.__filtered__){var e=new Hr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=za(e),n=t<0,i=r?e.length:0,o=function(e,t,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=mr(t,e+a);break;case"takeRight":e=Gt(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=n?s:a-1,c=this.__iteratees__,f=c.length,d=0,h=mr(u,this.__takeCount__);if(!r||!n&&i==u&&h==u)return pi(e,this.__actions__);var p=[];e:for(;u--&&d<h;){for(var g=-1,v=e[l+=t];++g<f;){var y=c[g],m=y.iteratee,b=y.type,_=m(v);if(2==b)v=_;else if(!_){if(1==b)continue e;break e}}p[d++]=v}return p},Vr.prototype.at=pa,Vr.prototype.chain=function(){return da(this)},Vr.prototype.commit=function(){return new Ur(this.value(),this.__chain__)},Vr.prototype.next=function(){this.__values__===i&&(this.__values__=ds(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Vr.prototype.plant=function(e){for(var t,r=this;r instanceof $r;){var n=Vo(r);n.__index__=0,n.__values__=i,t?o.__wrapped__=n:t=n;var o=n;r=r.__wrapped__}return o.__wrapped__=e,t},Vr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hr){var t=e;return this.__actions__.length&&(t=new Hr(this)),(t=t.reverse()).__actions__.push({func:ha,args:[ea],thisArg:i}),new Ur(t,this.__chain__)}return this.thru(ea)},Vr.prototype.toJSON=Vr.prototype.valueOf=Vr.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},Vr.prototype.first=Vr.prototype.head,Ze&&(Vr.prototype[Ze]=function(){return this}),Vr}();gt._=yr,(n=function(){return yr}.call(t,r,t,e))===i||(e.exports=n)}.call(this)},568:function(e,t,r){var n;n=function(e,t,r){return function(){"use strict";var n={"./src/Xarrow/utils/buzzier.js":function(e,t,r){r.r(t),r.d(t,{bzFunction:function(){return n},buzzierMinSols:function(){return i}});var n=function(e,t,r,n){return function(i){return Math.pow(1-i,3)*e+3*Math.pow(1-i,2)*i*t+3*(1-i)*Math.pow(i,2)*r+Math.pow(i,3)*n}},i=function(e,t,r,i){var o=n(e,t,r,i),a=-6*e+12*t-6*r,s=Math.pow(-6*e+12*t-6*r,2)-4*(3*t-3*e)*(-3*e+9*t-9*r+3*i),u=2*(-3*e+9*t-9*r+3*i);return[o((a+Math.sqrt(s))/u),o((a-Math.sqrt(s))/u)]}},"./src/Xarrow/Xarrow.tsx":function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},s=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(r("react")),c=u(r("./src/Xarrow/useXarrowProps.ts")),f=r("./src/Xwrapper.tsx"),d=u(r("./src/Xarrow/propTypes.ts")),h=r("./src/Xarrow/utils/GetPosition.tsx"),p=(console.log,function(e){var t,r=l.useRef({svgRef:l.useRef(null),lineRef:l.useRef(null),headRef:l.useRef(null),tailRef:l.useRef(null),lineDrawAnimRef:l.useRef(null),lineDashAnimRef:l.useRef(null),headOpacityAnimRef:l.useRef(null)}),i=r.current,o=i.svgRef,a=i.lineRef,u=i.headRef,d=(i.tailRef,i.lineDrawAnimRef),p=i.lineDashAnimRef,g=i.headOpacityAnimRef;l.useContext(f.XarrowContext);var v=c.default(e,r.current),y=v[0],m=y.labels,b=y.lineColor,_=y.headColor,x=y.tailColor,w=y.strokeWidth,S=y.showHead,O=y.showTail,D=y.dashness,E=y.headShape,T=y.tailShape,I=y.showXarrow,C=y.animateDrawing,j=y.zIndex,k=y.passProps,P=y.arrowBodyProps,A=y.arrowHeadProps,N=y.arrowTailProps,R=y.SVGcanvasProps,M=y.divContainerProps,L=y.divContainerStyle,F=y.SVGcanvasStyle,V=y._debug,B=y.shouldUpdatePosition;C=e.animateDrawing;var $=l.useState(!C),U=$[0],H=$[1],z=l.useState({})[1],W=function(){return z({})},q=l.useState({cx0:0,cy0:0,cw:0,ch:0,x1:0,y1:0,x2:0,y2:0,dx:0,dy:0,absDx:0,absDy:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,headOrient:0,tailOrient:0,arrowHeadOffset:{x:0,y:0},arrowTailOffset:{x:0,y:0},headOffset:0,excRight:0,excLeft:0,excUp:0,excDown:0,startPoints:[],endPoints:[],mainDivPos:{x:0,y:0},xSign:1,ySign:1,lineLength:0,fHeadSize:1,fTailSize:1,arrowPath:"",labelStartPos:{x:0,y:0},labelMiddlePos:{x:0,y:0},labelEndPos:{x:0,y:0}}),X=q[0],G=q[1];l.useLayoutEffect((function(){if(B.current){var e=h.getPosition(v,r);G(e),B.current=!1}}));var K=X.x2-X.arrowHeadOffset.x,Y=X.y2-X.arrowHeadOffset.y,Z=X.x1-X.arrowTailOffset.x,J=X.y1-X.arrowTailOffset.y,Q=D.strokeLen+D.nonStrokeLen,ee=1;D.animation<0&&(D.animation*=-1,ee=-1);var te,re,ne,ie,oe=0;return C&&0==U?("boolean"===typeof C&&(C=1),re=C+"s",te=X.lineLength,ie=X.lineLength,ne=1,C<0&&(ie=(t=[oe,ie])[0],oe=t[1],re=-1*C+"s")):(te=D.strokeLen+" "+D.nonStrokeLen,re=1/D.animation+"s",ie=Q*ee,ne="indefinite",oe=0),l.useLayoutEffect((function(){a.current&&G((function(e){var t,r;return n(n({},e),{lineLength:null!==(r=null===(t=a.current)||void 0===t?void 0:t.getTotalLength())&&void 0!==r?r:0})}))}),[a.current]),l.useEffect((function(){var e=function(){window.addEventListener("resize",W);var e=function(){var e,t;H(!0),null===(e=g.current)||void 0===e||e.beginElement(),null===(t=p.current)||void 0===t||t.beginElement()},t=function(){return u.current.style.opacity="0"};return d.current&&u.current&&(d.current.addEventListener("endEvent",e),d.current.addEventListener("beginEvent",t)),function(){window.removeEventListener("resize",W),d.current&&(d.current.removeEventListener("endEvent",e),u.current&&d.current.removeEventListener("beginEvent",t))}}();return function(){H(!1),e()}}),[I]),l.default.createElement("div",n({},M,{style:n({position:"absolute",zIndex:j},L)}),I?l.default.createElement(l.default.Fragment,null,l.default.createElement("svg",n({ref:o,width:X.cw,height:X.ch,style:n({position:"absolute",left:X.cx0,top:X.cy0,pointerEvents:"none",border:V?"1px dashed yellow":null},F),overflow:"auto"},R),l.default.createElement("path",n({ref:a,d:X.arrowPath,stroke:b,strokeDasharray:te,strokeWidth:w,fill:"transparent",pointerEvents:"visibleStroke"},k,P),l.default.createElement(l.default.Fragment,null,U?l.default.createElement(l.default.Fragment,null,D.animation?l.default.createElement("animate",{ref:p,attributeName:"stroke-dashoffset",values:Q*ee+";0",dur:1/D.animation+"s",repeatCount:"indefinite"}):null):l.default.createElement(l.default.Fragment,null,C?l.default.createElement("animate",{ref:d,id:"svgEndAnimate",attributeName:"stroke-dashoffset",values:ie+";"+oe,dur:re,repeatCount:ne}):null))),O?l.default.createElement("g",n({fill:x,pointerEvents:"auto",transform:"translate("+Z+","+J+") rotate("+X.tailOrient+") scale("+X.fTailSize+")"},k,N),T.svgElem):null,S?l.default.createElement("g",n({ref:u,fill:_,pointerEvents:"auto",transform:"translate("+K+","+Y+") rotate("+X.headOrient+") scale("+X.fHeadSize+")",opacity:C&&!U?0:1},k,A),l.default.createElement("animate",{ref:g,dur:"0.4",attributeName:"opacity",from:"0",to:"1",begin:"indefinite",repeatCount:"0",fill:"freeze"}),E.svgElem):null,V?l.default.createElement(l.default.Fragment,null,l.default.createElement("circle",{r:"5",cx:X.cpx1,cy:X.cpy1,fill:"green"}),l.default.createElement("circle",{r:"5",cx:X.cpx2,cy:X.cpy2,fill:"blue"}),l.default.createElement("rect",{x:X.excLeft,y:X.excUp,width:X.absDx,height:X.absDy,fill:"none",stroke:"pink",strokeWidth:"2px"})):null),m.start?l.default.createElement("div",{style:{transform:X.dx<0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:X.cx0+X.labelStartPos.x,top:X.cy0+X.labelStartPos.y-w-5}},m.start):null,m.middle?l.default.createElement("div",{style:{display:"table",width:"max-content",transform:"translate(-50% , -50%)",position:"absolute",left:X.cx0+X.labelMiddlePos.x,top:X.cy0+X.labelMiddlePos.y}},m.middle):null,m.end?l.default.createElement("div",{style:{transform:X.dx>0?"translate(-100% , -50%)":"translate(-0% , -50%)",width:"max-content",position:"absolute",left:X.cx0+X.labelEndPos.x,top:X.cy0+X.labelEndPos.y+w+5}},m.end):null,V?l.default.createElement(l.default.Fragment,null,s(s([],X.startPoints),X.endPoints).map((function(e,t){return l.default.createElement("div",{key:t,style:{background:"gray",opacity:.5,borderRadius:"50%",transform:"translate(-50%, -50%)",height:5,width:5,position:"absolute",left:e.x-X.mainDivPos.x,top:e.y-X.mainDivPos.y}})}))):null):null)});p.propTypes=d.default,t.default=p},"./src/Xarrow/anchors.ts":function(e,t,r){e=r.nmd(e),Object.defineProperty(t,"__esModule",{value:!0}),t.calcAnchors=void 0,t.calcAnchors=function(e,t){return e.map((function(e){var r,n,i=(r=t.right-t.x,n=t.bottom-t.y,{middle:{x:.5*r,y:.5*n},left:{x:0,y:.5*n},right:{x:r,y:.5*n},top:{x:.5*r,y:0},bottom:{x:.5*r,y:n}})[e.position],o=i.x,a=i.y;return{x:t.x+o+e.offset.x,y:t.y+a+e.offset.y,anchor:e}}))},r.c[r.s]},"./src/Xarrow/propTypes.ts":function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(r("prop-types")),o=r("./src/constants.tsx"),a=i.default.oneOf(o.cAnchorEdge),s=i.default.exact({position:a.isRequired,offset:i.default.exact({x:i.default.number,y:i.default.number}).isRequired}),u=i.default.oneOfType([a,s]),l=i.default.oneOfType([u,i.default.arrayOf(u)]),c=i.default.oneOfType([i.default.string,i.default.exact({current:i.default.any})]),f=i.default.oneOfType([i.default.element,i.default.string]),d=i.default.exact({start:f,middle:f,end:f}),h=i.default.oneOf(Object.keys(o.arrowShapes)),p=i.default.any,g=i.default.oneOfType([h,i.default.exact({svgElem:p,offsetForward:i.default.number}).isRequired]),v={start:c.isRequired,end:c.isRequired,startAnchor:l,endAnchor:l,labels:i.default.oneOfType([f,d]),color:i.default.string,lineColor:i.default.string,showHead:i.default.bool,headColor:i.default.string,headSize:i.default.number,tailSize:i.default.number,tailColor:i.default.string,strokeWidth:i.default.number,showTail:i.default.bool,path:i.default.oneOf(o.cPaths),showXarrow:i.default.bool,curveness:i.default.number,gridBreak:i.default.string,dashness:i.default.oneOfType([i.default.bool,i.default.object]),headShape:g,tailShape:g,animateDrawing:i.default.oneOfType([i.default.bool,i.default.number]),zIndex:i.default.number,passProps:i.default.object,arrowBodyProps:i.default.object,arrowHeadProps:i.default.object,arrowTailProps:i.default.object,SVGcanvasProps:i.default.object,divContainerProps:i.default.object,_extendSVGcanvas:i.default.number,_debug:i.default.bool,_cpx1Offset:i.default.number,_cpy1Offset:i.default.number,_cpx2Offset:i.default.number,_cpy2Offset:i.default.number};t.default=v},"./src/Xarrow/useXarrowProps.ts":function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var u=a(r("react")),l=r("./src/Xarrow/utils/index.ts"),c=s(r("lodash")),f=r("./src/constants.tsx"),d=function(e){var t=(Array.isArray(e)?e:[e]).map((function(e){return"string"===typeof e?{position:e}:e}));0==(t=t.filter((function(e){return f.cAnchorEdge.includes(e.position)}))).length&&(t=[{position:"auto"}]);var r=t.filter((function(e){return"auto"===e.position}));r.length>0&&(t=t.filter((function(e){return"auto"!==e.position}))).push.apply(t,r.flatMap((function(e){return["left","right","top","bottom"].map((function(t){return n(n({},e),{position:t})}))})));var i=t.map((function(e){if("object"===typeof e){var t=e;return t.position||(t.position="auto"),t.offset||(t.offset={x:0,y:0}),t.offset.y||(t.offset.y=0),t.offset.x||(t.offset.x=0),t}return e}));return i},h=function(e){return"string"==typeof e&&(e in f.arrowShapes?e=f.arrowShapes[e]:(console.warn("'"+e+"' is not supported arrow shape. the supported arrow shapes is one of "+f.cArrowShapes+".\n           reverting to default shape."),e=f.arrowShapes.arrow1)),void 0===(null===e||void 0===e?void 0:e.offsetForward)&&(e.offsetForward=.25),void 0===(null===e||void 0===e?void 0:e.svgElem)&&(e.svgElem="path"),e},p=function(e,t){return t&&(t.current=!0),e},g=function(e){return e},v=function(e,t,r){return p(e,r)},y=function(e,t,r){return p(Number(e),r)},m={start:function(e){return l.getElementByPropGiven(e)},end:function(e){return l.getElementByPropGiven(e)},startAnchor:function(e,t,r){return p(d(e),r)},endAnchor:function(e,t,r){return p(d(e),r)},labels:function(e){return function(e){var t={start:null,middle:null,end:null};if(e)if("string"===typeof e||u.default.isValidElement(e))t.middle=e;else for(var r in e)t[r]=e[r];return t}(e)},color:g,lineColor:function(e,t){return e||t.color},headColor:function(e,t){return e||t.color},tailColor:function(e,t){return e||t.color},strokeWidth:y,showHead:v,headSize:y,showTail:v,tailSize:y,path:v,curveness:y,gridBreak:function(e,t,r){return p(function(e){var t=l.xStr2absRelative(e);return t||(t={relative:.5,abs:0}),t}(e),r)},dashness:function(e,t){return function(e,t){var r,n=0,i=0;return"object"===typeof e?(n=e.strokeLen||2*t.strokeWidth,i=e.strokeLen?e.nonStrokeLen:t.strokeWidth,r=e.animation?e.animation:null):"boolean"===typeof e&&e&&(n=2*t.strokeWidth,i=t.strokeWidth,r=null),{strokeLen:n,nonStrokeLen:i,animation:r,animDirection:1}}(e,t)},headShape:function(e){return h(e)},tailShape:function(e){return h(e)},showXarrow:g,animateDrawing:g,zIndex:function(e){return Number(e)},passProps:g,arrowBodyProps:v,arrowHeadProps:v,arrowTailProps:v,SVGcanvasProps:v,divContainerProps:v,divContainerStyle:v,SVGcanvasStyle:v,_extendSVGcanvas:v,_debug:v,_cpx1Offset:v,_cpy1Offset:v,_cpx2Offset:v,_cpy2Offset:v},b={};for(var _ in m)b[_]=[_];for(var x=0,w=["lineColor","headColor","tailColor"];x<w.length;x++)b[_=w[x]].push("color");var S={start:null,end:null,startAnchor:"auto",endAnchor:"auto",labels:null,color:"CornflowerBlue",lineColor:null,headColor:null,tailColor:null,strokeWidth:4,showHead:!0,headSize:6,showTail:!1,tailSize:6,path:"smooth",curveness:.8,gridBreak:"50%",dashness:!1,headShape:"arrow1",tailShape:"arrow1",showXarrow:!0,animateDrawing:!1,zIndex:0,passProps:{},arrowBodyProps:{},arrowHeadProps:{},arrowTailProps:{},SVGcanvasProps:{},divContainerProps:{},divContainerStyle:{},SVGcanvasStyle:{},_extendSVGcanvas:0,_debug:!1,_cpx1Offset:0,_cpy1Offset:0,_cpx2Offset:0,_cpy2Offset:0},O={};O=function(e,t){for(var r,n=0,i=Object.entries(e);n<i.length;n++){var o=i[n],a=o[0],s=o[1];t[a]=null===(r=null===m||void 0===m?void 0:m[a])||void 0===r?void 0:r.call(m,s,t)}return t}(S,O);var D={startPos:{x:0,y:0,right:0,bottom:0},endPos:{x:0,y:0,right:0,bottom:0}};function E(e){var t,r,n=u.useRef();return t=e,r=n.current,c.default.isEqual(t,r)||(n.current=e),n.current}function T(e,t){u.useLayoutEffect(e,t.map(E))}t.default=function(e,t){var r=u.useState(O),i=r[0],o=r[1],a=u.useRef(!1);i.shouldUpdatePosition=a;var s=n(n({},S),e),c=function(t){u.useLayoutEffect((function(){var e;i[t]=null===(e=null===m||void 0===m?void 0:m[t])||void 0===e?void 0:e.call(m,s[t],i,a),o(n({},i))}),b[t].map((function(t){return e[t]})))};for(var f in S)c(f);var d=u.useState(D),h=d[0],p=d[1],g=l.getElemPos(i.start);T((function(){h.startPos=g,a.current=!0,p(n({},h))}),[g]);var v=l.getElemPos(i.end);return T((function(){h.endPos=v,a.current=!0,p(n({},h))}),[v]),u.useLayoutEffect((function(){a.current=!0,p(n({},h))}),[i.headShape.svgElem,i.tailShape.svgElem]),[i,h]}},"./src/Xarrow/utils/GetPosition.tsx":function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getPosition=void 0;var i=r("./src/Xarrow/anchors.ts"),o=r("./src/Xarrow/utils/index.ts"),a=n(r("lodash")),s=r("./src/constants.tsx"),u=r("./src/Xarrow/utils/buzzier.js");t.getPosition=function(e,t){var r,n,l,c,f=e[0],d=e[1],h=f.startAnchor,p=f.endAnchor,g=f.strokeWidth,v=f.showHead,y=f.headSize,m=f.showTail,b=f.tailSize,_=f.path,x=f.curveness,w=f.gridBreak,S=f.headShape,O=f.tailShape,D=f._extendSVGcanvas,E=f._cpx1Offset,T=f._cpy1Offset,I=f._cpx2Offset,C=f._cpy2Offset,j=d.startPos,k=d.endPos,P=t.current,A=P.svgRef,N=P.lineRef,R=0,M=0,L=i.calcAnchors(h,j),F=i.calcAnchors(p,k),V=o.getShortestLine(L,F),B=V.chosenStart,$=V.chosenEnd,U=B.anchor.position,H=$.anchor.position,z=a.default.pick(B,["x","y"]),W=a.default.pick($,["x","y"]),q=o.getSvgPos(A),X=Math.min(z.x,W.x)-q.x,G=Math.min(z.y,W.y)-q.y,K=W.x-z.x,Y=W.y-z.y,Z=Math.abs(W.x-z.x),J=Math.abs(W.y-z.y),Q=K>0?1:-1,ee=Y>0?1:-1,te=[S.offsetForward,O.offsetForward],re=te[0],ne=te[1],ie=y*g,oe=b*g,ae=0,se=0,ue=0,le=0,ce=ie*re,fe=oe*ne,de=Number(x);s.cPaths.includes(_)||(_="smooth"),"straight"===_&&(de=0,_="smooth");var he=g+g*(y>b?y:b)/2,pe=he,ge=he,ve=he,ye=he;ge+=Number(D),pe+=Number(D),ve+=Number(D),ye+=Number(D);var me=0,be=Z,_e=0,xe=J;if(K<0&&(me=(r=[be,me])[0],be=r[1]),Y<0&&(_e=(n=[xe,_e])[0],xe=n[1]),0===de){var we=Math.atan(J/Z);v&&(be-=ie*(1-re)*Q*Math.cos(we),xe-=ie*(1-re)*ee*Math.sin(we),we*=ee,Q<0&&(we=(Math.PI-we*Q)*Q),ae=Math.cos(we)*ce-Math.sin(we)*ie/2,se=Math.cos(we)*ie/2+Math.sin(we)*ce,R=180*we/Math.PI);var Se=Math.atan(J/Z);m&&(me+=oe*(1-ne)*Q*Math.cos(Se),_e+=oe*(1-ne)*ee*Math.sin(Se),Se*=-ee,Q>0&&(Se=(Math.PI-Se*Q)*Q),ue=Math.cos(Se)*fe-Math.sin(Se)*oe/2,le=Math.cos(Se)*oe/2+Math.sin(Se)*fe,M=180*Se/Math.PI)}else"middle"===H&&(H=Z>J?Q?"left":"right":ee?"top":"bottom"),v&&(["left","right"].includes(H)?(ae+=ce*Q,be-=ie*(1-re)*Q,se+=ie*Q/2,"left"===H?(R=0,Q<0&&(R+=180)):(R=180,Q>0&&(R+=180))):["top","bottom"].includes(H)&&(ae+=ie*-ee/2,xe-=ie*ee-(se+=ce*ee),"top"===H?(R=270,ee>0&&(R+=180)):(R=90,ee<0&&(R+=180))));m&&0!==de&&(["left","right"].includes(U)?(me+=oe*Q+(ue+=fe*-Q),le+=-oe*Q/2,"left"===U?(M=180,Q<0&&(M+=180)):(M=0,Q>0&&(M+=180))):["top","bottom"].includes(U)&&(_e+=oe*ee+(le+=fe*-ee),ue+=oe*ee/2,"top"===U?(M=90,ee>0&&(M+=180)):(M=270,ee<0&&(M+=180))));var Oe={x:ae,y:se},De={x:ue,y:le},Ee=me,Te=_e,Ie=be,Ce=xe,je={};"smooth"===_?je={hh:function(){Ee+=Z*de*Q,Ie-=Z*de*Q},vv:function(){Te+=J*de*ee,Ce-=J*de*ee},hv:function(){Ee+=Z*de*Q,Ce-=J*de*ee},vh:function(){Te+=J*de*ee,Ie-=Z*de*Q}}:"grid"===_&&(je={hh:function(){Ee+=(Z*w.relative+w.abs)*Q,Ie-=(Z*(1-w.relative)-w.abs)*Q,v&&(Ee-=ie*(1-re)/2*Q,Ie+=ie*(1-re)/2*Q),m&&(Ee-=oe*(1-ne)/2*Q,Ie+=oe*(1-ne)/2*Q)},vv:function(){Te+=(J*w.relative+w.abs)*ee,Ce-=(J*(1-w.relative)-w.abs)*ee,v&&(Te-=ie*(1-re)/2*ee,Ce+=ie*(1-re)/2*ee),m&&(Te-=oe*(1-ne)/2*ee,Ce+=oe*(1-ne)/2*ee)},hv:function(){Ee=be},vh:function(){Te=xe}});var ke="";["left","right"].includes(U)?ke+="h":["bottom","top"].includes(U)?ke+="v":"middle"===U&&(ke+="m"),["left","right"].includes(H)?ke+="h":["bottom","top"].includes(H)?ke+="v":"middle"===H&&(ke+="m"),je[ke=Z>J?ke.replace(/m/g,"h"):ke.replace(/m/g,"v")](),Ee+=E,Te+=T,Ie+=I,Ce+=C;var Pe=u.buzzierMinSols(me,Ee,Ie,be),Ae=Pe[0],Ne=Pe[1],Re=u.buzzierMinSols(_e,Te,Ce,xe),Me=Re[0],Le=Re[1];Ae<0&&(ge+=-Ae),Ne>Z&&(pe+=Ne-Z),Me<0&&(ve+=-Me),Le>J&&(ye+=Le-J),"grid"===_&&(ge+=he,pe+=he,ve+=he,ye+=he),me+=ge,be+=ge,_e+=ve,xe+=ve,Ee+=ge,Ie+=ge,Te+=ve,Ce+=ve;var Fe=Z+ge+pe,Ve=J+ve+ye;X-=ge,G-=ve;var Be,$e=u.bzFunction(me,Ee,Ie,be),Ue=u.bzFunction(_e,Te,Ce,xe),He={x:$e(.01),y:Ue(.01)},ze={x:$e(.5),y:Ue(.5)},We={x:$e(.99),y:Ue(.99)};return"grid"===_?Be="M "+me+" "+_e+" L  "+Ee+" "+Te+" L "+Ie+" "+Ce+" "+be+" "+xe:"smooth"===_&&(Be="M "+me+" "+_e+" C "+Ee+" "+Te+", "+Ie+" "+Ce+", "+be+" "+xe),{cx0:X,cy0:G,x1:me,x2:be,y1:_e,y2:xe,cw:Fe,ch:Ve,cpx1:Ee,cpy1:Te,cpx2:Ie,cpy2:Ce,dx:K,dy:Y,absDx:Z,absDy:J,headOrient:R,tailOrient:M,labelStartPos:He,labelMiddlePos:ze,labelEndPos:We,excLeft:ge,excRight:pe,excUp:ve,excDown:ye,headOffset:ce,arrowHeadOffset:Oe,arrowTailOffset:De,startPoints:L,endPoints:F,mainDivPos:q,xSign:Q,ySign:ee,lineLength:null!==(c=null===(l=N.current)||void 0===l?void 0:l.getTotalLength())&&void 0!==c?c:0,fHeadSize:ie,fTailSize:oe,arrowPath:Be}}},"./src/Xarrow/utils/index.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSvgPos=t.getElemPos=t.getShortestLine=t.xStr2absRelative=t.factorDpathStr=t.getElementByPropGiven=void 0,t.getElementByPropGiven=function(e){return"string"===typeof e?document.getElementById(e):null===e||void 0===e?void 0:e.current},t.factorDpathStr=function(e,t){var r=e.split(/(\d+(?:\.\d+)?)/);return(r=r.map((function(e){return Number(e)?(Number(e)*t).toString():e}))).join("")},t.xStr2absRelative=function(e){if("string"!==typeof e)return{abs:0,relative:.5};var t=e.split("%"),r=0,n=0;if(1==t.length){var i=parseFloat(t[0]);if(!isNaN(i))return{abs:r=i,relative:0}}else if(2==t.length){var o=[parseFloat(t[0]),parseFloat(t[1])],a=o[0],s=o[1];if(isNaN(a)||(n=a/100),isNaN(s)||(r=s),!isNaN(a)||!isNaN(s))return{abs:r,relative:n}}},t.getShortestLine=function(e,t){var r,n=1/0,i=1/0;return e.forEach((function(e){t.forEach((function(t){var o,a;o=e,a=t,(i=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)))<n&&(n=i,r={chosenStart:e,chosenEnd:t})}))})),r},t.getElemPos=function(e){if(!e)return{x:0,y:0,right:0,bottom:0};var t=e.getBoundingClientRect();return{x:t.left,y:t.top,right:t.right,bottom:t.bottom}},t.getSvgPos=function(e){if(!e.current)return{x:0,y:0};var t=e.current.getBoundingClientRect(),r=t.left,n=t.top,i=getComputedStyle(e.current);return{x:r-Number(i.left.slice(0,-2)),y:n-Number(i.top.slice(0,-2))}}},"./src/Xwrapper.tsx":function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.XarrowContext=t.XelemContext=void 0;var a=o(r("react"));t.XelemContext=a.default.createContext(null),t.XarrowContext=a.default.createContext(null);var s={},u=0,l=(console.log,function(e){var r=e.children,n=e.instanceCount,i=a.useState({})[1],o=function(){return i({})};return a.useEffect((function(){n.current=u,s[n.current]=o}),[]),a.default.createElement(t.XarrowContext.Provider,{value:o},r)}),c=function(e){var r=e.children,n=e.instanceCount;return a.default.createElement(t.XelemContext.Provider,{value:s[n.current]},r)};t.default=function(e){var t=e.children,r=a.useRef(u),n=a.useState({})[1];return a.useEffect((function(){return u++,n({}),function(){delete s[r.current]}}),[]),a.default.createElement(c,{instanceCount:r},a.default.createElement(l,{instanceCount:r},t))}},"./src/constants.tsx":function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.cArrowShapes=t.arrowShapes=t.cSvgElems=t.cPaths=t.cAnchorEdge=void 0;var i=n(r("react"));t.cAnchorEdge=["middle","left","right","top","bottom","auto"],t.cPaths=["smooth","grid","straight"],t.cSvgElems=["circle","ellipse","line","path","polygon","polyline","rect"],t.arrowShapes={arrow1:{svgElem:i.default.createElement("path",{d:"M 0 0 L 1 0.5 L 0 1 L 0.25 0.5 z"}),offsetForward:.25},heart:{svgElem:i.default.createElement("path",{d:"M 0,0.25 A 0.125,0.125 0,0,1 0.5,0.25 A 0.125,0.125 0,0,1 1,0.25 Q 1,0.625 0.5,1 Q 0,0.625 0,0.25 z"}),offsetForward:.1},circle:{svgElem:i.default.createElement("circle",{r:.5,cx:.5,cy:.5}),offsetForward:0}},t.cArrowShapes=Object.keys(t.arrowShapes)},"./src/index.tsx":function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useXarrow=t.Xwrapper=t.default=void 0;var a=r("./src/Xarrow/Xarrow.tsx");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(a).default}}),i(r("./src/types.ts"),t),i(r("./src/constants.tsx"),t);var s=r("./src/Xwrapper.tsx");Object.defineProperty(t,"Xwrapper",{enumerable:!0,get:function(){return o(s).default}});var u=r("./src/useXarrow.tsx");Object.defineProperty(t,"useXarrow",{enumerable:!0,get:function(){return o(u).default}})},"./src/types.ts":function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},"./src/useXarrow.tsx":function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r("react"),i=r("./src/Xwrapper.tsx");t.default=function(){var e=n.useState({})[1],t=n.useContext(i.XelemContext);return t||(t=function(){}),n.useLayoutEffect((function(){t()})),function(){return e({})}}},lodash:function(e){e.exports=t},"prop-types":function(e){e.exports=r},react:function(t){t.exports=e}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={id:e,loaded:!1,exports:{}};return n[e].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}return o.c=i,o.d=function(e,t){for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},o(o.s="./src/index.tsx")}()},e.exports=n(r(43),r(536),r(173))},579:(e,t,r)=>{"use strict";e.exports=r(799)},672:(e,t,r)=>{"use strict";var n=r(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=u.T,r=a.p;try{if(u.T=null,a.p=2,e)return e()}finally{u.T=t,a.p=r,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,n=l(r,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:o}):"script"===r&&a.d.X(e,{crossOrigin:n,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=l(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,n=l(r,t.crossOrigin);a.d.L(e,r,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=l(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return u.H.useFormState(e,t,r)},t.useFormStatus=function(){return u.H.useHostTransitionStatus()},t.version="19.0.0"},799:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(e,t,n){var i=null;if(void 0!==n&&(i=""+n),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in n={},t)"key"!==o&&(n[o]=t[o]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:i,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=i,t.jsxs=i},950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(672)}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};r.r(e),r.d(e,{FILE:()=>we,HTML:()=>De,TEXT:()=>Oe,URL:()=>Se});var t=r(43),n=r(950),i=r(579);function o(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a="function"===typeof Symbol&&Symbol.observable||"@@observable",s=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+s(),REPLACE:"@@redux/REPLACE"+s(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+s()}};function l(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function c(e,t,r){var n;if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(o(0));if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(o(1));return r(c)(e,t)}if("function"!==typeof e)throw new Error(o(2));var i=e,s=t,f=[],d=f,h=!1;function p(){d===f&&(d=f.slice())}function g(){if(h)throw new Error(o(3));return s}function v(e){if("function"!==typeof e)throw new Error(o(4));if(h)throw new Error(o(5));var t=!0;return p(),d.push(e),function(){if(t){if(h)throw new Error(o(6));t=!1,p();var r=d.indexOf(e);d.splice(r,1),f=null}}}function y(e){if(!l(e))throw new Error(o(7));if("undefined"===typeof e.type)throw new Error(o(8));if(h)throw new Error(o(9));try{h=!0,s=i(s,e)}finally{h=!1}for(var t=f=d,r=0;r<t.length;r++){(0,t[r])()}return e}return y({type:u.INIT}),(n={dispatch:y,subscribe:v,getState:g,replaceReducer:function(e){if("function"!==typeof e)throw new Error(o(10));i=e,y({type:u.REPLACE})}})[a]=function(){var e,t=v;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(o(11));function r(){e.next&&e.next(g())}return r(),{unsubscribe:t(r)}}})[a]=function(){return this},e},n}function f(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if("undefined"!==typeof process&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let r=0;e=new Error(t.replace(/%s/g,(function(){return n[r++]}))),e.name="Invariant Violation"}throw e.framesToPop=1,e}}function d(e){return"object"===typeof e}const h="dnd-core/INIT_COORDS",p="dnd-core/BEGIN_DRAG",g="dnd-core/PUBLISH_DRAG_SOURCE",v="dnd-core/HOVER",y="dnd-core/DROP",m="dnd-core/END_DRAG";function b(e,t){return{type:h,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const _={type:h,payload:{clientOffset:null,sourceClientOffset:null}};function x(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0};const{publishSource:n=!0,clientOffset:i,getSourceClientOffset:o}=r,a=e.getMonitor(),s=e.getRegistry();e.dispatch(b(i)),function(e,t,r){f(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){f(r.getSource(e),"Expected sourceIds to be registered.")}))}(t,a,s);const u=function(e,t){let r=null;for(let n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}(t,a);if(null==u)return void e.dispatch(_);let l=null;if(i){if(!o)throw new Error("getSourceClientOffset must be defined");!function(e){f("function"===typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(o),l=o(u)}e.dispatch(b(i,l));const c=s.getSource(u).beginDrag(a,u);if(null==c)return;!function(e){f(d(e),"Item must be an object.")}(c),s.pinSource(u);const h=s.getSourceType(u);return{type:p,payload:{itemType:h,item:c,sourceId:u,clientOffset:i||null,sourceClientOffset:l||null,isSourcePublic:!!n}}}}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){w(e,t,r[t])}))}return e}function O(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=e.getMonitor(),n=e.getRegistry();!function(e){f(e.isDragging(),"Cannot call drop while not dragging."),f(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(r);const i=function(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(r);i.forEach(((i,o)=>{const a=function(e,t,r,n){const i=r.getTarget(e);let o=i?i.drop(n,e):void 0;(function(e){f("undefined"===typeof e||d(e),"Drop result must either be an object or undefined.")})(o),"undefined"===typeof o&&(o=0===t?{}:n.getDropResult());return o}(i,o,n,r),s={type:y,payload:{dropResult:S({},t,a)}};e.dispatch(s)}))}}function D(e){return function(){const t=e.getMonitor(),r=e.getRegistry();!function(e){f(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);const n=t.getSourceId();if(null!=n){r.getSource(n,!0).endDrag(t,n),r.unpinSource()}return{type:m}}}function E(e,t){return null===t?null===e:Array.isArray(e)?e.some((e=>e===t)):e===t}function T(e){return function(t){let{clientOffset:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e){f(Array.isArray(e),"Expected targetIds to be an array.")}(t);const n=t.slice(0),i=e.getMonitor(),o=e.getRegistry();return function(e,t,r){for(let n=e.length-1;n>=0;n--){const i=e[n];E(t.getTargetType(i),r)||e.splice(n,1)}}(n,o,i.getItemType()),function(e,t,r){f(t.isDragging(),"Cannot call hover while not dragging."),f(!t.didDrop(),"Cannot call hover after drop.");for(let n=0;n<e.length;n++){const t=e[n];f(e.lastIndexOf(t)===n,"Expected targetIds to be unique in the passed array.");f(r.getTarget(t),"Expected targetIds to be registered.")}}(n,i,o),function(e,t,r){e.forEach((function(e){r.getTarget(e).hover(t,e)}))}(n,i,o),{type:v,payload:{targetIds:n,clientOffset:r||null}}}}function I(e){return function(){if(e.getMonitor().isDragging())return{type:g}}}class C{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;const r=function(e){return{beginDrag:x(e),publishDragSource:I(e),hover:T(e),drop:O(e),endDrag:D(e)}}(this);return Object.keys(r).reduce(((n,i)=>{const o=r[i];var a;return n[i]=(a=o,function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];const o=a.apply(e,n);"undefined"!==typeof o&&t(o)}),n}),{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function j(e,t){return{x:e.x-t.x,y:e.y-t.y}}const k=[],P=[];k.__IS_NONE__=!0,P.__IS_ALL__=!0;class A{subscribeToStateChange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{handlerIds:r}=t;f("function"===typeof e,"listener must be a function."),f("undefined"===typeof r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let n=this.store.getState().stateId;return this.store.subscribe((()=>{const t=this.store.getState(),i=t.stateId;try{const o=i===n||i===n+1&&!function(e,t){return e!==k&&(e===P||"undefined"===typeof t||(r=e,t.filter((e=>r.indexOf(e)>-1))).length>0);var r}(t.dirtyHandlerIds,r);o||e()}finally{n=i}}))}subscribeToOffsetChange(e){f("function"===typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe((()=>{const r=this.store.getState().dragOffset;r!==t&&(t=r,e())}))}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return f(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(f(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;return E(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(f(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;return this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}isOverTarget(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;const{shallow:r}=t;if(!this.isDragging())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();if(i&&!E(n,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const a=o.indexOf(e);return r?a===o.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){const{clientOffset:t,initialClientOffset:r,initialSourceClientOffset:n}=e;return t&&r&&n?j((o=n,{x:(i=t).x+o.x,y:i.y+o.y}),r):null;var i,o}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){const{clientOffset:t,initialClientOffset:r}=e;return t&&r?j(t,r):null}(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const N="undefined"!==typeof global?global:self,R=N.MutationObserver||N.WebKitMutationObserver;function M(e){return function(){const t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}const L="function"===typeof R?function(e){let t=1;const r=new R(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}:M;class F{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const V=new class{enqueueTask(e){const{queue:t,requestFlush:r}=this;t.length||(r(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,r=e.length-this.index;t<r;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=L(this.flush),this.requestErrorThrow=M((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},B=new class{create(e){const t=this.freeTasks,r=t.length?t.pop():new F(this.onError,(e=>t[t.length]=e));return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}(V.registerPendingError);const $="dnd-core/ADD_SOURCE",U="dnd-core/ADD_TARGET",H="dnd-core/REMOVE_SOURCE",z="dnd-core/REMOVE_TARGET";function W(e,t){t&&Array.isArray(e)?e.forEach((e=>W(e,!1))):f("string"===typeof e||"symbol"===typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var q;!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(q||(q={}));let X=0;function G(e){const t=(X++).toString();switch(e){case q.SOURCE:return`S${t}`;case q.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function K(e){switch(e[0]){case"S":return q.SOURCE;case"T":return q.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function Y(e,t){const r=e.entries();let n=!1;do{const{done:e,value:[,i]}=r.next();if(i===t)return!0;n=!!e}while(!n);return!1}class Z{addSource(e,t){W(e),function(e){f("function"===typeof e.canDrag,"Expected canDrag to be a function."),f("function"===typeof e.beginDrag,"Expected beginDrag to be a function."),f("function"===typeof e.endDrag,"Expected endDrag to be a function.")}(t);const r=this.addHandler(q.SOURCE,e,t);return this.store.dispatch(function(e){return{type:$,payload:{sourceId:e}}}(r)),r}addTarget(e,t){W(e,!0),function(e){f("function"===typeof e.canDrop,"Expected canDrop to be a function."),f("function"===typeof e.hover,"Expected hover to be a function."),f("function"===typeof e.drop,"Expected beginDrag to be a function.")}(t);const r=this.addHandler(q.TARGET,e,t);return this.store.dispatch(function(e){return{type:U,payload:{targetId:e}}}(r)),r}containsHandler(e){return Y(this.dragSources,e)||Y(this.dropTargets,e)}getSource(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];f(this.isSourceId(e),"Expected a valid source ID.");return t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return f(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return f(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return f(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return K(e)===q.SOURCE}isTargetId(e){return K(e)===q.TARGET}removeSource(e){var t;f(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:H,payload:{sourceId:e}}}(e)),t=()=>{this.dragSources.delete(e),this.types.delete(e)},V.enqueueTask(B.create(t))}removeTarget(e){f(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:z,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);f(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){f(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,r){const n=G(e);return this.types.set(n,t),e===q.SOURCE?this.dragSources.set(n,r):e===q.TARGET&&this.dropTargets.set(n,r),n}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const J=(e,t)=>e===t;function Q(){let e=arguments.length>1?arguments[1]:void 0;switch(e.type){case v:break;case $:case U:case z:case H:return k;default:return P}const{targetIds:t=[],prevTargetIds:r=[]}=e.payload,n=function(e,t){const r=new Map,n=e=>{r.set(e,r.has(e)?r.get(e)+1:1)};e.forEach(n),t.forEach(n);const i=[];return r.forEach(((e,t)=>{1===e&&i.push(t)})),i}(t,r),i=n.length>0||!function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:J;if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}(t,r);if(!i)return k;const o=r[r.length-1],a=t[t.length-1];return o!==a&&(o&&n.push(o),a&&n.push(a)),n}function ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const te={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function re(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;const{payload:r}=t;switch(t.type){case h:case p:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case v:return n=e.clientOffset,i=r.clientOffset,!n&&!i||n&&i&&n.x===i.x&&n.y===i.y?e:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ee(e,t,r[t])}))}return e}({},e,{clientOffset:r.clientOffset});case m:case y:return te;default:return e}var n,i}function ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ne(e,t,r[t])}))}return e}const oe={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;const{payload:r}=t;switch(t.type){case p:return ie({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case g:return ie({},e,{isSourcePublic:!0});case v:return ie({},e,{targetIds:r.targetIds});case z:return-1===e.targetIds.indexOf(r.targetId)?e:ie({},e,{targetIds:(n=e.targetIds,i=r.targetId,n.filter((e=>e!==i)))});case y:return ie({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case m:return ie({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}var n,i}function se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch((arguments.length>1?arguments[1]:void 0).type){case $:case U:return e+1;case H:case z:return e-1;default:return e}}function ue(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+1}function le(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){le(e,t,r[t])}))}return e}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:Q(e.dirtyHandlerIds,{type:t.type,payload:ce({},t.payload,{prevTargetIds:(r=e,n="dragOperation.targetIds",i=[],n.split(".").reduce(((e,t)=>e&&e[t]?e[t]:i||null),r))})}),dragOffset:re(e.dragOffset,t),refCount:se(e.refCount,t),dragOperation:ae(e.dragOperation,t),stateId:ue(e.stateId)};var r,n,i}function de(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=function(e){const t="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return c(fe,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(arguments.length>3&&void 0!==arguments[3]&&arguments[3]),i=new A(n,new Z(n)),o=new C(n,i),a=e(o,t,r);return o.receiveBackend(a),o}const he=(0,t.createContext)({dragDropManager:void 0});function pe(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}let ge=0;const ve=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var ye=(0,t.memo)((function(e){var{children:r}=e,n=pe(e,["children"]);const[o,a]=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me(),r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;const i=t;i[ve]||(i[ve]={dragDropManager:de(e,t,r,n)});return i[ve]}(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[t,r]}(n);return(0,t.useEffect)((()=>{if(a){const e=me();return++ge,()=>{0===--ge&&(e[ve]=null)}}}),[]),(0,i.jsx)(he.Provider,{value:o,children:r})}));function me(){return"undefined"!==typeof global?global:window}function be(e){let t=null;return()=>(null==t&&(t=e()),t)}class _e{enter(e){const t=this.entered.length;return this.entered=function(e,t){const r=new Set,n=e=>r.add(e);e.forEach(n),t.forEach(n);const i=[];return r.forEach((e=>i.push(e))),i}(this.entered.filter((t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e)))),[e]),0===t&&this.entered.length>0}leave(e){const t=this.entered.length;var r,n;return this.entered=(r=this.entered.filter(this.isNodeInDocument),n=e,r.filter((e=>e!==n))),t>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class xe{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})}))}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach((r=>{const n=this.config.exposeProperties[r];null!=n&&(t[r]={value:n(e,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const we="__NATIVE_FILE__",Se="__NATIVE_URL__",Oe="__NATIVE_TEXT__",De="__NATIVE_HTML__";function Ee(e,t,r){const n=t.reduce(((t,r)=>t||e.getData(r)),"");return null!=n?n:r}const Te={[we]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[De]:{exposeProperties:{html:(e,t)=>Ee(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[Se]:{exposeProperties:{urls:(e,t)=>Ee(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[Oe]:{exposeProperties:{text:(e,t)=>Ee(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function Ie(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(Te).filter((e=>{const r=Te[e];return!!(null===r||void 0===r?void 0:r.matchesTypes)&&r.matchesTypes.some((e=>t.indexOf(e)>-1))}))[0]||null}const Ce=be((()=>/firefox/i.test(navigator.userAgent))),je=be((()=>Boolean(window.safari)));class ke{interpolate(e){const{xs:t,ys:r,c1s:n,c2s:i,c3s:o}=this;let a=t.length-1;if(e===t[a])return r[a];let s,u=0,l=o.length-1;for(;u<=l;){s=Math.floor(.5*(u+l));const n=t[s];if(n<e)u=s+1;else{if(!(n>e))return r[s];l=s-1}}a=Math.max(0,l);const c=e-t[a],f=c*c;return r[a]+n[a]*c+i[a]*f+o[a]*c*f}constructor(e,t){const{length:r}=e,n=[];for(let h=0;h<r;h++)n.push(h);n.sort(((t,r)=>e[t]<e[r]?-1:1));const i=[],o=[],a=[];let s,u;for(let h=0;h<r-1;h++)s=e[h+1]-e[h],u=t[h+1]-t[h],o.push(s),i.push(u),a.push(u/s);const l=[a[0]];for(let h=0;h<o.length-1;h++){const e=a[h],t=a[h+1];if(e*t<=0)l.push(0);else{s=o[h];const r=o[h+1],n=s+r;l.push(3*n/((n+r)/e+(n+s)/t))}}l.push(a[a.length-1]);const c=[],f=[];let d;for(let h=0;h<l.length-1;h++){d=a[h];const e=l[h],t=1/o[h],r=e+l[h+1]-d-d;c.push((d-e-r)*t),f.push(r*t*t)}this.xs=e,this.ys=t,this.c1s=l,this.c2s=c,this.c3s=f}}function Pe(e){const t=1===e.nodeType?e:e.parentElement;if(!t)return null;const{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function Ae(e){return{x:e.clientX,y:e.clientY}}function Ne(e,t,r,n,i){const o=function(e){var t;return"IMG"===e.nodeName&&(Ce()||!(null===(t=document.documentElement)||void 0===t?void 0:t.contains(e)))}(t),a=Pe(o?e:t),s={x:r.x-a.x,y:r.y-a.y},{offsetWidth:u,offsetHeight:l}=e,{anchorX:c,anchorY:f}=n,{dragPreviewWidth:d,dragPreviewHeight:h}=function(e,t,r,n){let i=e?t.width:r,o=e?t.height:n;return je()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}(o,t,u,l),{offsetX:p,offsetY:g}=i,v=0===g||g;return{x:0===p||p?p:new ke([0,.5,1],[s.x,s.x/u*d,s.x+d-u]).interpolate(c),y:v?g:(()=>{let e=new ke([0,.5,1],[s.y,s.y/l*h,s.y+h-l]).interpolate(f);return je()&&o&&(e+=(window.devicePixelRatio-1)*h),e})()}}class Re{get window(){return this.globalContext?this.globalContext:"undefined"!==typeof window?window:void 0}get document(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function Me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Me(e,t,r[t])}))}return e}class Fe{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;var t;void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(t=this.window)||void 0===t||t.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(e,t,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,r){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,r);const n=t=>this.handleDragStart(t,e),i=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",n),t.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",n),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const r=t=>this.handleDragEnter(t,e),n=t=>this.handleDragOver(t,e),i=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",r),t.addEventListener("dragover",n),t.addEventListener("drop",i),()=>{t.removeEventListener("dragenter",r),t.removeEventListener("dragover",n),t.removeEventListener("drop",i)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return Le({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId();return Le({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(e).some((r=>e[r]===t))}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){const r=Te[e];if(!r)throw new Error(`native type ${e} has no configuration`);const n=new xe(r);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((()=>{var e;return null===(e=this.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){var e;if(this.currentDragSourceNode=null,this.rootElement)null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0);return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{const t=this.sourceNodes.get(e);return t&&Pe(t)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>Boolean(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{const e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!==typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!==typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;const{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;const r=Ae(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:r});const{dataTransfer:n}=e,i=Ie(n);if(this.monitor.isDragging()){if(n&&"function"===typeof n.setDragImage){const e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),i=this.sourcePreviewNodes.get(e)||t;if(i){const{anchorX:e,anchorY:o,offsetX:a,offsetY:s}=this.getCurrentSourcePreviewNodeOptions(),u=Ne(t,i,r,{anchorX:e,anchorY:o},{offsetX:a,offsetY:s});n.setDragImage(i,u.x,u.y)}}try{null===n||void 0===n||n.setData("application/json",{})}catch(o){}this.setCurrentDragSourceNode(e.target);const{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(i)this.beginDragNativeItem(i);else{if(n&&!n.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{var t;(this.dragEnterTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));if(!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;const{dataTransfer:r}=e,n=Ie(r);n&&this.beginDragNativeItem(n,r)},this.handleTopDragEnter=e=>{const{dragEnterTargetIds:t}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:Ae(e)});t.some((e=>this.monitor.canDropOnTarget(e)))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=e=>{var t;(this.dragOverTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer))},this.handleTopDragOver=e=>{const{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));this.altKeyPressed=e.altKey,this.lastClientOffset=Ae(e),this.scheduleHover(t);(t||[]).some((e=>this.monitor.canDropOnTarget(e)))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault();this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=e=>{var t;(this.dropTargetIds=[],this.isDraggingNativeItem())?(e.preventDefault(),null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):Ie(e.dataTransfer)&&e.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{const{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:Ae(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{const t=e.target;"function"===typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new Re(t,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new _e(this.isNodeInDocument)}}const Ve=function(e,t,r){return new Fe(e,t,r)},Be=()=>(0,i.jsx)("header",{className:"header",title:"\u0428\u0430\u043f\u043a\u0430 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f",children:(0,i.jsx)("h1",{children:"Trigger Chain Builder"})});var $e=r(122);const Ue="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function He(e,r,n){const[i,o]=(0,t.useState)((()=>r(e))),a=(0,t.useCallback)((()=>{const t=r(e);$e(i,t)||(o(t),n&&n())}),[i,e,n]);return Ue(a),[i,a]}function ze(e,t,r){return function(e,t,r){const[n,i]=He(e,t,r);return Ue((function(){const t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(i,{handlerIds:[t]})}),[e,i]),n}(t,e||(()=>({})),(()=>r.reconnect()))}function We(e,r){const n=[...r||[]];return null==r&&"function"!==typeof e&&n.push(e),(0,t.useMemo)((()=>"function"===typeof e?e():e),n)}function qe(e){return(0,t.useMemo)((()=>e.hooks.dragSource()),[e])}function Xe(e){return(0,t.useMemo)((()=>e.hooks.dragPreview()),[e])}function Ge(e,t,r,n){let i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;const o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;const s=Object.prototype.hasOwnProperty.bind(t);for(let u=0;u<o.length;u++){const a=o[u];if(!s(a))return!1;const l=e[a],c=t[a];if(i=r?r.call(n,l,c,a):void 0,!1===i||void 0===i&&l!==c)return!1}return!0}function Ke(e){return null!==e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Ye(e){return function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,t.isValidElement)(r)){const t=r;return e(t,n),t}const i=r;!function(e){if("string"===typeof e.type)return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}(i);return function(e,r){const n=e.ref;return f("string"!==typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?(0,t.cloneElement)(e,{ref:e=>{Je(n,e),Je(r,e)}}):(0,t.cloneElement)(e,{ref:r})}(i,n?t=>e(t,n):e)}}function Ze(e){const t={};return Object.keys(e).forEach((r=>{const n=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{const e=Ye(n);t[r]=()=>e}})),t}function Je(e,t){"function"===typeof e?e(t):e.current=t}class Qe{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();r&&this.disconnectDragPreview(),this.handlerId&&(t?r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions)):this.lastConnectedDragPreview=t)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Ge(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Ge(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Ze({dragSource:(e,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,Ke(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,Ke(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}function et(){const{dragDropManager:e}=(0,t.useContext)(he);return f(null!=e,"Expected drag drop context"),e}let tt=!1,rt=!1;class nt{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){f(!tt,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return tt=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{tt=!1}}isDragging(){if(!this.sourceId)return!1;f(!rt,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return rt=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{rt=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}class it{beginDrag(){const e=this.spec,t=this.monitor;let r=null;return r="object"===typeof e.item?e.item:"function"===typeof e.item?e.item(t):{},null!==r&&void 0!==r?r:null}canDrag(){const e=this.spec,t=this.monitor;return"boolean"===typeof e.canDrag?e.canDrag:"function"!==typeof e.canDrag||e.canDrag(t)}isDragging(e,t){const r=this.spec,n=this.monitor,{isDragging:i}=r;return i?i(n):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,r=this.connector,{end:n}=e;n&&n(t.getItem(),t),r.reconnect()}constructor(e,t,r){this.spec=e,this.monitor=t,this.connector=r}}function ot(e,r,n){const i=et(),o=function(e,r,n){const i=(0,t.useMemo)((()=>new it(e,r,n)),[r,n]);return(0,t.useEffect)((()=>{i.spec=e}),[e]),i}(e,r,n),a=function(e){return(0,t.useMemo)((()=>{const t=e.type;return f(null!=t,"spec.type must be defined"),t}),[e])}(e);Ue((function(){if(null!=a){const[e,t]=function(e,t,r){const n=r.getRegistry(),i=n.addSource(e,t);return[i,()=>n.removeSource(i)]}(a,o,i);return r.receiveHandlerId(e),n.receiveHandlerId(e),t}}),[i,r,n,o,a])}function at(e,r){const n=We(e,r);f(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const i=function(){const e=et();return(0,t.useMemo)((()=>new nt(e)),[e])}(),o=function(e,r){const n=et(),i=(0,t.useMemo)((()=>new Qe(n.getBackend())),[n]);return Ue((()=>(i.dragSourceOptions=e||null,i.reconnect(),()=>i.disconnectDragSource())),[i,e]),Ue((()=>(i.dragPreviewOptions=r||null,i.reconnect(),()=>i.disconnectDragPreview())),[i,r]),i}(n.options,n.previewOptions);return ot(n,i,o),[ze(n.collect,i,o),qe(o),Xe(o)]}const st=["subscription","confirmation","welcome","order","abandoned-cart","review-request","birthday","anniversary","vip-customer","new-registration","loyalty"],ut=["send-email","apply-discount","bonus-action","send-sms","send-push","send-whatsapp","apply-free-shipping","assign-coupon","update-loyalty-points","add-loyalty-points","redeem-loyalty-points","apply-loyalty-discount"],lt=["if-no-order","if-abandoned-cart","route","if-age-greater","if-age-less","if-location","if-purchase-frequency","if-cart-value-exceeds","if-time-of-day","if-visit-duration","if-webhook-response","if-inventory-low","if-loyalty-points-exceed","if-customer-tier"],ct={subscription:"\ud83d\udce7",confirmation:"\u2705",welcome:"\ud83d\udc4b",order:"\ud83d\uded2","abandoned-cart":"\ud83d\udeab\ud83d\uded2","review-request":"\ud83d\udcdd",birthday:"\ud83c\udf82",anniversary:"\ud83d\udcc6","vip-customer":"\u2b50","new-registration":"\ud83c\udd95",loyalty:"\ud83c\udfc6",group:"\ud83d\udcc2"},ft="block",dt=e=>{let{type:t,label:r}=e;const[{isDragging:n},o]=at({type:ft,item:{type:t,label:r,fromSidebar:!0},collect:e=>({isDragging:!!e.getItem()&&e.isDragging()})});return(0,i.jsxs)("div",{ref:o,className:"sidebar-block",style:{opacity:n?.5:1},title:`\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0431\u043b\u043e\u043a "${r}"`,children:[(0,i.jsx)("span",{className:"block-icon",children:ct[t]||"\ud83d\udd38"}),(0,i.jsx)("span",{className:"block-label",children:r})]})},ht=e=>{let{leftMenu:t,onTemplateClick:r}=e;return(0,i.jsxs)("div",{className:"left-menu",children:[(0,i.jsx)("input",{className:"menu-search",type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a \u0431\u043b\u043e\u043a\u043e\u0432...",title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430"}),Object.keys(t).map((e=>(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"category-title",children:e.charAt(0).toUpperCase()+e.slice(1)}),t[e].map(((t,n)=>(0,i.jsxs)("div",{className:"menu-group",children:[(0,i.jsx)("div",{className:"menu-group-header",title:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0441\u0432\u0435\u0440\u043d\u0443\u0442\u044c/\u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0433\u0440\u0443\u043f\u043f\u0443",children:(0,i.jsx)("span",{className:"menu-group-title",children:t.groupTitle})}),(0,i.jsx)("div",{className:"menu-group-items",children:t.items.map(((t,o)=>"template"===t.type?(0,i.jsx)("div",{onClick:()=>r(t),title:`\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0448\u0430\u0431\u043b\u043e\u043d "${t.label}"`,children:t.label},`${e}-${n}-${o}`):(0,i.jsx)(dt,{type:t.type,label:t.label},`${e}-${n}-${o}`)))})]},n)))]},e)))]})};function pt(e){return(0,t.useMemo)((()=>e.hooks.dropTarget()),[e])}class gt{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Ge(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Ze({dropTarget:(e,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,Ke(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}let vt=!1;class yt{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;f(!vt,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return vt=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{vt=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}class mt{canDrop(){const e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function bt(e,r,n){const i=et(),o=function(e,r){const n=(0,t.useMemo)((()=>new mt(e,r)),[r]);return(0,t.useEffect)((()=>{n.spec=e}),[e]),n}(e,r),a=function(e){const{accept:r}=e;return(0,t.useMemo)((()=>(f(null!=e.accept,"accept must be defined"),Array.isArray(r)?r:[r])),[r])}(e);Ue((function(){const[e,t]=function(e,t,r){const n=r.getRegistry(),i=n.addTarget(e,t);return[i,()=>n.removeTarget(i)]}(a,o,i);return r.receiveHandlerId(e),n.receiveHandlerId(e),t}),[i,r,o,n,a.map((e=>e.toString())).join("|")])}function _t(e,r){const n=We(e,r),i=function(){const e=et();return(0,t.useMemo)((()=>new yt(e)),[e])}(),o=function(e){const r=et(),n=(0,t.useMemo)((()=>new gt(r.getBackend())),[r]);return Ue((()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget())),[e]),n}(n.options);return bt(n,i,o),[ze(n.collect,i,o),pt(o)]}const xt=(e,t)=>{if(e.groupId){const r=t.find((t=>t.id===e.groupId));if(r)return{x:r.position.x+e.position.x,y:r.position.y+e.position.y}}return e.position},wt=()=>Date.now()+Math.floor(1e3*Math.random()),St=e=>{let{block:r,blocks:n,onSelectBlock:o,onAddNext:a,onDeleteBlock:s,updateBlockPosition:u,isSelected:l}=e;const[{isDragging:c},f]=at({type:"block",item:r,collect:e=>({isDragging:e.isDragging()})}),d={opacity:c?.5:1,transition:"all 0.2s"},h=r.groupId?{...d,marginLeft:r.position.x,marginTop:r.position.y,position:"relative"}:{...d,left:xt(r,n).x,top:xt(r,n).y,position:"absolute"},p=(0,i.jsxs)("div",{ref:f,id:`block-${r.id}`,className:"dropped-block "+(l?"selected":""),style:h,title:`\u0411\u043b\u043e\u043a: ${r.label}`,onClick:e=>{e.stopPropagation(),o(r)},children:[(0,i.jsx)("span",{className:"block-icon",children:ct[r.type]||"\ud83d\udd38"}),(0,i.jsx)("span",{className:"block-label",children:r.label}),(0,i.jsx)("button",{className:"delete-button",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u043b\u043e\u043a",onClick:e=>{e.stopPropagation(),s(r.id)},children:"\xd7"}),(0,i.jsx)("button",{className:"add-next-button",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0431\u043b\u043e\u043a",onClick:e=>{e.stopPropagation(),a(r)},children:"+"})]});if("group"===r.type){const e=(0,t.useRef)(null),[,c]=_t({accept:"block",drop:(t,n)=>{if(t.groupId===r.id){const r=n.getClientOffset(),i=e.current.getBoundingClientRect(),o={x:r.x-i.left,y:r.y-i.top};u(t.id,o)}}});return(0,i.jsxs)("div",{ref:f,id:`block-${r.id}`,className:"dropped-block group-block "+(l?"selected":""),style:h,title:`\u0413\u0440\u0443\u043f\u043f\u0430: ${r.label}`,onClick:e=>{e.stopPropagation(),o(r)},children:[(0,i.jsx)("div",{className:"group-header",children:r.label}),(0,i.jsxs)("div",{ref:c,className:"group-children",children:[(0,i.jsx)("div",{className:"group-triggers-header",children:"\u0422\u0440\u0438\u0433\u0433\u0435\u0440\u044b:"}),(0,i.jsx)("div",{className:"group-triggers",children:n.filter((e=>e.groupId===r.id)).map((e=>(0,i.jsx)(St,{block:e,blocks:n,onSelectBlock:o,onAddNext:a,onDeleteBlock:s,updateBlockPosition:u,isSelected:e.isSelected},e.id)))}),0===n.filter((e=>e.groupId===r.id)).length&&(0,i.jsx)("div",{className:"group-placeholder",onClick:e=>{e.stopPropagation(),a(r)},title:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0440\u0438\u0433\u0433\u0435\u0440",children:"+ \u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0442\u0440\u0438\u0433\u0433\u0435\u0440"})]}),n.filter((e=>e.groupId===r.id)).length>0&&(0,i.jsx)("button",{className:"add-next-button",title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u043b\u043e\u043a \u0432 \u0433\u0440\u0443\u043f\u043f\u0443",onClick:e=>{e.stopPropagation(),a(r)},children:"+"})]})}return p},Ot=St;var Dt=r(568),Et=r.n(Dt);const Tt=e=>{let{blocks:r,addBlock:n,updateBlockPosition:o,onSelectBlock:a,onAddNext:s,onDeleteBlock:u}=e;const[,l]=_t({accept:"block",drop:(e,t)=>{const i=t.getClientOffset(),a=document.getElementById("canvas").getBoundingClientRect(),s={x:i.x-a.left,y:i.y-a.top};if(!e.fromSidebar||!st.includes(e.type))if(e.id)if(e.groupId){const t=r.find((t=>t.id===e.groupId));if(t){const r={x:s.x-t.position.x,y:s.y-t.position.y};o(e.id,r)}}else o(e.id,s);else{const t={...e,position:s,id:Date.now()+Math.floor(1e3*Math.random()),next:""};n(t)}}}),c=r.map((e=>xt(e,r))),f={width:(c.length?Math.max(...c.map((e=>e.x)),800):800)+300,height:(c.length?Math.max(...c.map((e=>e.y)),600):600)+200};(0,t.useEffect)((()=>{window.dispatchEvent(new Event("resize"))}),[r]);const d=r.filter((e=>!e.groupId));return(0,i.jsxs)("div",{id:"canvas",ref:l,className:"canvas",style:f,title:"\u0417\u043e\u043d\u0430 \u0445\u043e\u043b\u0441\u0442\u0430",children:[d.map((e=>(0,i.jsx)(Ot,{block:e,blocks:r,onSelectBlock:a,onAddNext:s,onDeleteBlock:u,updateBlockPosition:o},e.id))),r.map((e=>"route"===e.type?(0,i.jsxs)(t.Fragment,{children:[e.nextTrue&&r.find((t=>t.id===e.nextTrue))&&(0,i.jsx)(Et(),{start:`block-${e.id}`,end:`block-${e.nextTrue}`,color:"green",strokeWidth:2,animateDrawing:!1},`xarrow-${e.id}-true`),e.nextFalse&&r.find((t=>t.id===e.nextFalse))&&(0,i.jsx)(Et(),{start:`block-${e.id}`,end:`block-${e.nextFalse}`,color:"red",strokeWidth:2,animateDrawing:!1},`xarrow-${e.id}-false`)]},`xarrow-${e.id}`):e.next&&r.find((t=>t.id===e.next))?(0,i.jsx)(Et(),{start:`block-${e.id}`,end:`block-${e.next}`,color:"#1e88e5",strokeWidth:2,animateDrawing:!1},`xarrow-${e.id}`):null))]})},It=e=>{let{children:r,onClose:n}=e;return(0,t.useEffect)((()=>{const e=e=>{"Escape"===e.key&&n()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[n]),(0,i.jsx)("div",{className:"modal-overlay",title:"\u041c\u043e\u0434\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u043a\u043d\u043e",onClick:n,children:(0,i.jsxs)("div",{className:"modal",onClick:e=>e.stopPropagation(),children:[r,(0,i.jsx)("button",{className:"modal-close-button",onClick:n,title:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u043e\u043a\u043d\u043e",children:"\xd7"})]})})},Ct=e=>{let{parentBlock:t,options:r,onSelect:n,onCancel:o}=e;const a="group"===t.type?`\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0440\u0438\u0433\u0433\u0435\u0440 \u0434\u043b\u044f \u0433\u0440\u0443\u043f\u043f\u044b "${t.label}"`:`\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0431\u043b\u043e\u043a \u0434\u043b\u044f "${t.label}"`,s={"\u0422\u0440\u0438\u0433\u0433\u0435\u0440\u044b":r.filter((e=>st.includes(e.type))),"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f":r.filter((e=>ut.includes(e.type))),"\u0423\u0441\u043b\u043e\u0432\u0438\u044f":r.filter((e=>lt.includes(e.type)))};return(0,i.jsx)(It,{onClose:o,children:(0,i.jsxs)("div",{className:"next-block-modal",children:[(0,i.jsx)("h3",{className:"modal-title",children:a}),Object.entries(s).map((e=>{let[t,r]=e;return r.length?(0,i.jsxs)("div",{className:"option-group",children:[(0,i.jsx)("h4",{className:"group-title",children:t}),(0,i.jsx)("div",{className:"option-grid",children:r.map((e=>(0,i.jsxs)("div",{className:"option-card",onClick:()=>n(e),title:`\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0431\u043b\u043e\u043a "${e.label}"`,children:[(0,i.jsx)("span",{className:"option-icon",children:ct[e.type]||"\ud83d\udd38"}),(0,i.jsx)("span",{className:"option-label",children:e.label})]},e.type+e.label)))})]},t):null})),(0,i.jsx)("div",{className:"modal-buttons",children:(0,i.jsx)("button",{className:"cancel-button",onClick:o,title:"\u041e\u0442\u043c\u0435\u043d\u0430",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})})]})})};var jt=e=>"checkbox"===e.type,kt=e=>e instanceof Date,Pt=e=>null==e;const At=e=>"object"===typeof e;var Nt=e=>!Pt(e)&&!Array.isArray(e)&&At(e)&&!kt(e),Rt=e=>Nt(e)&&e.target?jt(e.target)?e.target.checked:e.target.value:e,Mt=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),Lt="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function Ft(e){let t;const r=Array.isArray(e),n="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(Lt&&(e instanceof Blob||n)||!r&&!Nt(e))return e;if(t=r?[]:{},r||(e=>{const t=e.constructor&&e.constructor.prototype;return Nt(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const r in e)e.hasOwnProperty(r)&&(t[r]=Ft(e[r]));else t=e}return t}var Vt=e=>Array.isArray(e)?e.filter(Boolean):[],Bt=e=>void 0===e,$t=(e,t,r)=>{if(!t||!Nt(e))return r;const n=Vt(t.split(/[,[\].]+?/)).reduce(((e,t)=>Pt(e)?e:e[t]),e);return Bt(n)||n===e?Bt(e[t])?r:e[t]:n},Ut=e=>"boolean"===typeof e,Ht=e=>/^\w*$/.test(e),zt=e=>Vt(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Wt=(e,t,r)=>{let n=-1;const i=Ht(t)?[t]:zt(t),o=i.length,a=o-1;for(;++n<o;){const t=i[n];let o=r;if(n!==a){const r=e[t];o=Nt(r)||Array.isArray(r)?r:isNaN(+i[n+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=o,e=e[t]}return e};const qt="blur",Xt="focusout",Gt="onBlur",Kt="onChange",Yt="onSubmit",Zt="onTouched",Jt="all",Qt="max",er="min",tr="maxLength",rr="minLength",nr="pattern",ir="required",or="validate";t.createContext(null);var ar=function(e,t,r){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const i=o;return t._proxyFormState[i]!==Jt&&(t._proxyFormState[i]=!n||Jt),r&&(r[i]=!0),e[i]}});return i},sr=e=>Nt(e)&&!Object.keys(e).length,ur=(e,t,r,n)=>{r(e);const{name:i,...o}=e;return sr(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find((e=>t[e]===(!n||Jt)))},lr=e=>Array.isArray(e)?e:[e];function cr(e){const r=t.useRef(e);r.current=e,t.useEffect((()=>{const t=!e.disabled&&r.current.subject&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}}),[e.disabled])}var fr=e=>"string"===typeof e,dr=(e,t,r,n,i)=>fr(e)?(n&&t.watch.add(e),$t(r,e,i)):Array.isArray(e)?e.map((e=>(n&&t.watch.add(e),$t(r,e)))):(n&&(t.watchAll=!0),r);var hr=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},pr=e=>({isOnSubmit:!e||e===Yt,isOnBlur:e===Gt,isOnChange:e===Kt,isOnAll:e===Jt,isOnTouch:e===Zt}),gr=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const vr=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const r=$t(e,i);if(r){const{_f:e,...o}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!n)return!0;if(e.ref&&t(e.ref,e.name)&&!n)return!0;if(vr(o,t))break}else if(Nt(o)&&vr(o,t))break}}};var yr=(e,t,r)=>{const n=lr($t(e,r));return Wt(n,"root",t[r]),Wt(e,r,n),e},mr=e=>"file"===e.type,br=e=>"function"===typeof e,_r=e=>{if(!Lt)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},xr=e=>fr(e),wr=e=>"radio"===e.type,Sr=e=>e instanceof RegExp;const Or={value:!1,isValid:!1},Dr={value:!0,isValid:!0};var Er=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Bt(e[0].attributes.value)?Bt(e[0].value)||""===e[0].value?Dr:{value:e[0].value,isValid:!0}:Dr:Or}return Or};const Tr={isValid:!1,value:null};var Ir=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),Tr):Tr;function Cr(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(xr(e)||Array.isArray(e)&&e.every(xr)||Ut(e)&&!e)return{type:r,message:xr(e)?e:"",ref:t}}var jr=e=>Nt(e)&&!Sr(e)?e:{value:e,message:""},kr=async(e,t,r,n,i,o)=>{const{ref:a,refs:s,required:u,maxLength:l,minLength:c,min:f,max:d,pattern:h,validate:p,name:g,valueAsNumber:v,mount:y}=e._f,m=$t(r,g);if(!y||t.has(g))return{};const b=s?s[0]:a,_=e=>{i&&b.reportValidity&&(b.setCustomValidity(Ut(e)?"":e||""),b.reportValidity())},x={},w=wr(a),S=jt(a),O=w||S,D=(v||mr(a))&&Bt(a.value)&&Bt(m)||_r(a)&&""===a.value||""===m||Array.isArray(m)&&!m.length,E=hr.bind(null,g,n,x),T=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:tr,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:rr;const o=e?t:r;x[g]={type:e?n:i,message:o,ref:a,...E(e?n:i,o)}};if(o?!Array.isArray(m)||!m.length:u&&(!O&&(D||Pt(m))||Ut(m)&&!m||S&&!Er(s).isValid||w&&!Ir(s).isValid)){const{value:e,message:t}=xr(u)?{value:!!u,message:u}:jr(u);if(e&&(x[g]={type:ir,message:t,ref:b,...E(ir,t)},!n))return _(t),x}if(!D&&(!Pt(f)||!Pt(d))){let e,t;const r=jr(d),i=jr(f);if(Pt(m)||isNaN(m)){const n=a.valueAsDate||new Date(m),o=e=>new Date((new Date).toDateString()+" "+e),s="time"==a.type,u="week"==a.type;fr(r.value)&&m&&(e=s?o(m)>o(r.value):u?m>r.value:n>new Date(r.value)),fr(i.value)&&m&&(t=s?o(m)<o(i.value):u?m<i.value:n<new Date(i.value))}else{const n=a.valueAsNumber||(m?+m:m);Pt(r.value)||(e=n>r.value),Pt(i.value)||(t=n<i.value)}if((e||t)&&(T(!!e,r.message,i.message,Qt,er),!n))return _(x[g].message),x}if((l||c)&&!D&&(fr(m)||o&&Array.isArray(m))){const e=jr(l),t=jr(c),r=!Pt(e.value)&&m.length>+e.value,i=!Pt(t.value)&&m.length<+t.value;if((r||i)&&(T(r,e.message,t.message),!n))return _(x[g].message),x}if(h&&!D&&fr(m)){const{value:e,message:t}=jr(h);if(Sr(e)&&!m.match(e)&&(x[g]={type:nr,message:t,ref:a,...E(nr,t)},!n))return _(t),x}if(p)if(br(p)){const e=Cr(await p(m,r),b);if(e&&(x[g]={...e,...E(or,e.message)},!n))return _(e.message),x}else if(Nt(p)){let e={};for(const t in p){if(!sr(e)&&!n)break;const i=Cr(await p[t](m,r),b,t);i&&(e={...i,...E(t,i.message)},_(i.message),n&&(x[g]=e))}if(!sr(e)&&(x[g]={ref:b,...e},!n))return x}return _(!0),x};function Pr(e,t){const r=Array.isArray(t)?t:Ht(t)?[t]:zt(t),n=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Bt(e)?n++:e[t[n++]];return e}(e,r),i=r.length-1,o=r[i];return n&&delete n[o],0!==i&&(Nt(n)&&sr(n)||Array.isArray(n)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Bt(e[t]))return!1;return!0}(n))&&Pr(e,r.slice(0,-1)),e}var Ar=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},Nr=e=>Pt(e)||!At(e);function Rr(e,t){if(Nr(e)||Nr(t))return e===t;if(kt(e)&&kt(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const r=e[i];if(!n.includes(i))return!1;if("ref"!==i){const e=t[i];if(kt(r)&&kt(e)||Nt(r)&&Nt(e)||Array.isArray(r)&&Array.isArray(e)?!Rr(r,e):r!==e)return!1}}return!0}var Mr=e=>"select-multiple"===e.type,Lr=e=>_r(e)&&e.isConnected,Fr=e=>{for(const t in e)if(br(e[t]))return!0;return!1};function Vr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Array.isArray(e);if(Nt(e)||r)for(const n in e)Array.isArray(e[n])||Nt(e[n])&&!Fr(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Vr(e[n],t[n])):Pt(e[n])||(t[n]=!0);return t}function Br(e,t,r){const n=Array.isArray(e);if(Nt(e)||n)for(const i in e)Array.isArray(e[i])||Nt(e[i])&&!Fr(e[i])?Bt(t)||Nr(r[i])?r[i]=Array.isArray(e[i])?Vr(e[i],[]):{...Vr(e[i])}:Br(e[i],Pt(t)?{}:t[i],r[i]):r[i]=!Rr(e[i],t[i]);return r}var $r=(e,t)=>Br(e,t,Vr(t)),Ur=(e,t)=>{let{valueAsNumber:r,valueAsDate:n,setValueAs:i}=t;return Bt(e)?e:r?""===e?NaN:e?+e:e:n&&fr(e)?new Date(e):i?i(e):e};function Hr(e){const t=e.ref;return mr(t)?t.files:wr(t)?Ir(e.refs).value:Mr(t)?[...t.selectedOptions].map((e=>{let{value:t}=e;return t})):jt(t)?Er(e.refs).value:Ur(Bt(t.value)?e.ref.value:t.value,e)}var zr=e=>Bt(e)?e:Sr(e)?e.source:Nt(e)?Sr(e.value)?e.value.source:e.value:e;const Wr="AsyncFunction";function qr(e,t,r){const n=$t(e,r);if(n||Ht(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const n=i.join("."),o=$t(t,n),a=$t(e,n);if(o&&!Array.isArray(o)&&r!==n)return{name:r};if(a&&a.type)return{name:n,error:a};i.pop()}return{name:r}}const Xr={mode:Yt,reValidateMode:Kt,shouldFocusError:!0};function Gr(){let e,t={...Xr,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},r={submitCount:0,isDirty:!1,isLoading:br(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=(Nt(t.defaultValues)||Nt(t.values))&&Ft(t.defaultValues||t.values)||{},o=t.shouldUnregister?{}:Ft(i),a={action:!1,mount:!1,watch:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u=0;const l={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},c={values:Ar(),array:Ar(),state:Ar()},f=pr(t.mode),d=pr(t.reValidateMode),h=t.criteriaMode===Jt,p=async e=>{if(!t.disabled&&(l.isValid||e)){const e=t.resolver?sr((await b()).errors):await _(n,!0);e!==r.isValid&&c.state.next({isValid:e})}},g=(e,n)=>{t.disabled||!l.isValidating&&!l.validatingFields||((e||Array.from(s.mount)).forEach((e=>{e&&(n?Wt(r.validatingFields,e,n):Pr(r.validatingFields,e))})),c.state.next({validatingFields:r.validatingFields,isValidating:!sr(r.validatingFields)}))},v=(e,t,r,s)=>{const u=$t(n,e);if(u){const n=$t(o,e,Bt(r)?$t(i,e):r);Bt(n)||s&&s.defaultChecked||t?Wt(o,e,t?n:Hr(u._f)):S(e,n),a.mount&&p()}},y=(e,o,a,s,u)=>{let f=!1,d=!1;const h={name:e};if(!t.disabled){const t=!!($t(n,e)&&$t(n,e)._f&&$t(n,e)._f.disabled);if(!a||s){l.isDirty&&(d=r.isDirty,r.isDirty=h.isDirty=x(),f=d!==h.isDirty);const n=t||Rr($t(i,e),o);d=!(t||!$t(r.dirtyFields,e)),n||t?Pr(r.dirtyFields,e):Wt(r.dirtyFields,e,!0),h.dirtyFields=r.dirtyFields,f=f||l.dirtyFields&&d!==!n}if(a){const t=$t(r.touchedFields,e);t||(Wt(r.touchedFields,e,a),h.touchedFields=r.touchedFields,f=f||l.touchedFields&&t!==a)}f&&u&&c.state.next(h)}return f?h:{}},m=(n,i,o,a)=>{const s=$t(r.errors,n),f=l.isValid&&Ut(i)&&r.isValid!==i;var d;if(t.delayError&&o?(d=()=>((e,t)=>{Wt(r.errors,e,t),c.state.next({errors:r.errors})})(n,o),e=e=>{clearTimeout(u),u=setTimeout(d,e)},e(t.delayError)):(clearTimeout(u),e=null,o?Wt(r.errors,n,o):Pr(r.errors,n)),(o?!Rr(s,o):s)||!sr(a)||f){const e={...a,...f&&Ut(i)?{isValid:i}:{},errors:r.errors,name:n};r={...r,...e},c.state.next(e)}},b=async e=>{g(e,!0);const r=await t.resolver(o,t.context,((e,t,r,n)=>{const i={};for(const o of e){const e=$t(t,o);e&&Wt(i,o,e._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}})(e||s.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return g(e),r},_=async function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const u in e){const c=e[u];if(c){const{_f:e,...f}=c;if(e){const f=s.array.has(e.name),d=c._f&&(!!(a=c._f)&&!!a.validate&&!!(br(a.validate)&&a.validate.constructor.name===Wr||Nt(a.validate)&&Object.values(a.validate).find((e=>e.constructor.name===Wr))));d&&l.validatingFields&&g([u],!0);const p=await kr(c,s.disabled,o,h,t.shouldUseNativeValidation&&!n,f);if(d&&l.validatingFields&&g([u]),p[e.name]&&(i.valid=!1,n))break;!n&&($t(p,e.name)?f?yr(r.errors,p,e.name):Wt(r.errors,e.name,p[e.name]):Pr(r.errors,e.name))}!sr(f)&&await _(f,n,i)}}var a;return i.valid},x=(e,r)=>!t.disabled&&(e&&r&&Wt(o,e,r),!Rr(C(),i)),w=(e,t,r)=>dr(e,s,{...a.mount?o:Bt(t)?i:fr(e)?{[e]:t}:t},r,t),S=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=$t(n,e);let a=t;if(i){const r=i._f;r&&(!r.disabled&&Wt(o,e,Ur(t,r)),a=_r(r.ref)&&Pt(t)?"":t,Mr(r.ref)?[...r.ref.options].forEach((e=>e.selected=a.includes(e.value))):r.refs?jt(r.ref)?r.refs.length>1?r.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(a)?!!a.find((t=>t===e.value)):a===e.value))):r.refs[0]&&(r.refs[0].checked=!!a):r.refs.forEach((e=>e.checked=e.value===a)):mr(r.ref)?r.ref.value="":(r.ref.value=a,r.ref.type||c.values.next({name:e,values:{...o}})))}(r.shouldDirty||r.shouldTouch)&&y(e,a,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&I(e)},O=(e,t,r)=>{for(const i in t){const o=t[i],a=`${e}.${i}`,u=$t(n,a);(s.array.has(e)||Nt(o)||u&&!u._f)&&!kt(o)?O(a,o,r):S(a,o,r)}},D=function(e,t){let u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const f=$t(n,e),d=s.array.has(e),h=Ft(t);Wt(o,e,h),d?(c.array.next({name:e,values:{...o}}),(l.isDirty||l.dirtyFields)&&u.shouldDirty&&c.state.next({name:e,dirtyFields:$r(i,o),isDirty:x(e,h)})):!f||f._f||Pt(h)?S(e,h,u):O(e,h,u),gr(e,s)&&c.state.next({...r}),c.values.next({name:a.mount?e:void 0,values:{...o}})},E=async i=>{a.mount=!0;const u=i.target;let v=u.name,x=!0;const w=$t(n,v),S=e=>{x=Number.isNaN(e)||kt(e)&&isNaN(e.getTime())||Rr(e,$t(o,v,e))};if(w){let a,D;const E=u.type?Hr(w._f):Rt(i),T=i.type===qt||i.type===Xt,C=!((O=w._f).mount&&(O.required||O.min||O.max||O.maxLength||O.minLength||O.pattern||O.validate))&&!t.resolver&&!$t(r.errors,v)&&!w._f.deps||((e,t,r,n,i)=>!i.isOnAll&&(!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:!(r?n.isOnChange:i.isOnChange)||e))(T,$t(r.touchedFields,v),r.isSubmitted,d,f),j=gr(v,s,T);Wt(o,v,E),T?(w._f.onBlur&&w._f.onBlur(i),e&&e(0)):w._f.onChange&&w._f.onChange(i);const k=y(v,E,T,!1),P=!sr(k)||j;if(!T&&c.values.next({name:v,type:i.type,values:{...o}}),C)return l.isValid&&("onBlur"===t.mode&&T?p():T||p()),P&&c.state.next({name:v,...j?{}:k});if(!T&&j&&c.state.next({...r}),t.resolver){const{errors:e}=await b([v]);if(S(E),x){const t=qr(r.errors,n,v),i=qr(e,n,t.name||v);a=i.error,v=i.name,D=sr(e)}}else g([v],!0),a=(await kr(w,s.disabled,o,h,t.shouldUseNativeValidation))[v],g([v]),S(E),x&&(a?D=!1:l.isValid&&(D=await _(n,!0)));x&&(w._f.deps&&I(w._f.deps),m(v,D,a,k))}var O},T=(e,t)=>{if($t(r.errors,t)&&e.focus)return e.focus(),1},I=async function(e){let i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const u=lr(e);if(t.resolver){const t=await(async e=>{const{errors:t}=await b(e);if(e)for(const n of e){const e=$t(t,n);e?Wt(r.errors,n,e):Pr(r.errors,n)}else r.errors=t;return t})(Bt(e)?e:u);i=sr(t),o=e?!u.some((e=>$t(t,e))):i}else e?(o=(await Promise.all(u.map((async e=>{const t=$t(n,e);return await _(t&&t._f?{[e]:t}:t)})))).every(Boolean),(o||r.isValid)&&p()):o=i=await _(n);return c.state.next({...!fr(e)||l.isValid&&i!==r.isValid?{}:{name:e},...t.resolver||!e?{isValid:i}:{},errors:r.errors}),a.shouldFocus&&!o&&vr(n,T,e?u:s.mount),o},C=e=>{const t={...a.mount?o:i};return Bt(e)?t:fr(e)?$t(t,e):e.map((e=>$t(t,e)))},j=(e,t)=>({invalid:!!$t((t||r).errors,e),isDirty:!!$t((t||r).dirtyFields,e),error:$t((t||r).errors,e),isValidating:!!$t(r.validatingFields,e),isTouched:!!$t((t||r).touchedFields,e)}),k=(e,t,i)=>{const o=($t(n,e,{_f:{}})._f||{}).ref,a=$t(r.errors,e)||{},{ref:s,message:u,type:l,...f}=a;Wt(r.errors,e,{...f,...t,ref:o}),c.state.next({name:e,errors:r.errors,isValid:!1}),i&&i.shouldFocus&&o&&o.focus&&o.focus()},P=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const u of e?lr(e):s.mount)s.mount.delete(u),s.array.delete(u),a.keepValue||(Pr(n,u),Pr(o,u)),!a.keepError&&Pr(r.errors,u),!a.keepDirty&&Pr(r.dirtyFields,u),!a.keepTouched&&Pr(r.touchedFields,u),!a.keepIsValidating&&Pr(r.validatingFields,u),!t.shouldUnregister&&!a.keepDefaultValue&&Pr(i,u);c.values.next({values:{...o}}),c.state.next({...r,...a.keepDirty?{isDirty:x()}:{}}),!a.keepIsValid&&p()},A=e=>{let{disabled:t,name:r,field:n,fields:i}=e;(Ut(t)&&a.mount||t||s.disabled.has(r))&&(t?s.disabled.add(r):s.disabled.delete(r),y(r,Hr(n?n._f:$t(i,r)._f),!1,!1,!0))},N=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=$t(n,e);const u=Ut(r.disabled)||Ut(t.disabled);return Wt(n,e,{...o||{},_f:{...o&&o._f?o._f:{ref:{name:e}},name:e,mount:!0,...r}}),s.mount.add(e),o?A({field:o,disabled:Ut(r.disabled)?r.disabled:t.disabled,name:e}):v(e,!0,r.value),{...u?{disabled:r.disabled||t.disabled}:{},...t.progressive?{required:!!r.required,min:zr(r.min),max:zr(r.max),minLength:zr(r.minLength),maxLength:zr(r.maxLength),pattern:zr(r.pattern)}:{},name:e,onChange:E,onBlur:E,ref:u=>{if(u){N(e,r),o=$t(n,e);const t=Bt(u.value)&&u.querySelectorAll&&u.querySelectorAll("input,select,textarea")[0]||u,a=(e=>wr(e)||jt(e))(t),s=o._f.refs||[];if(a?s.find((e=>e===t)):t===o._f.ref)return;Wt(n,e,{_f:{...o._f,...a?{refs:[...s.filter(Lr),t,...Array.isArray($t(i,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),v(e,!1,void 0,t)}else o=$t(n,e,{}),o._f&&(o._f.mount=!1),(t.shouldUnregister||r.shouldUnregister)&&(!Mt(s.array,e)||!a.action)&&s.unMount.add(e)}}},R=()=>t.shouldFocusError&&vr(n,T,s.mount),M=(e,i)=>async a=>{let u;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let l=Ft(o);if(s.disabled.size)for(const e of s.disabled)Wt(l,e,void 0);if(c.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:t}=await b();r.errors=e,l=t}else await _(n);if(Pr(r.errors,"root"),sr(r.errors)){c.state.next({errors:{}});try{await e(l,a)}catch(f){u=f}}else i&&await i({...r.errors},a),R(),setTimeout(R);if(c.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:sr(r.errors)&&!u,submitCount:r.submitCount+1,errors:r.errors}),u)throw u},L=function(e){let u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const f=e?Ft(e):i,d=Ft(f),h=sr(e),p=h?i:d;if(u.keepDefaultValues||(i=f),!u.keepValues){if(u.keepDirtyValues){const e=new Set([...s.mount,...Object.keys($r(i,o))]);for(const t of Array.from(e))$t(r.dirtyFields,t)?Wt(p,t,$t(o,t)):D(t,$t(p,t))}else{if(Lt&&Bt(e))for(const e of s.mount){const t=$t(n,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(_r(e)){const t=e.closest("form");if(t){t.reset();break}}}}n={}}o=t.shouldUnregister?u.keepDefaultValues?Ft(i):{}:Ft(p),c.array.next({values:{...p}}),c.values.next({values:{...p}})}s={mount:u.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!l.isValid||!!u.keepIsValid||!!u.keepDirtyValues,a.watch=!!t.shouldUnregister,c.state.next({submitCount:u.keepSubmitCount?r.submitCount:0,isDirty:!h&&(u.keepDirty?r.isDirty:!(!u.keepDefaultValues||Rr(e,i))),isSubmitted:!!u.keepIsSubmitted&&r.isSubmitted,dirtyFields:h?{}:u.keepDirtyValues?u.keepDefaultValues&&o?$r(i,o):r.dirtyFields:u.keepDefaultValues&&e?$r(i,e):u.keepDirty?r.dirtyFields:{},touchedFields:u.keepTouched?r.touchedFields:{},errors:u.keepErrors?r.errors:{},isSubmitSuccessful:!!u.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1})},F=(e,t)=>L(br(e)?e(o):e,t);return{control:{register:N,unregister:P,getFieldState:j,handleSubmit:M,setError:k,_executeSchema:b,_getWatch:w,_getDirty:x,_updateValid:p,_removeUnmounted:()=>{for(const e of s.unMount){const t=$t(n,e);t&&(t._f.refs?t._f.refs.every((e=>!Lr(e))):!Lr(t._f.ref))&&P(e)}s.unMount=new Set},_updateFieldArray:function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],u=arguments.length>2?arguments[2]:void 0,f=arguments.length>3?arguments[3]:void 0,d=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],h=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(f&&u&&!t.disabled){if(a.action=!0,h&&Array.isArray($t(n,e))){const t=u($t(n,e),f.argA,f.argB);d&&Wt(n,e,t)}if(h&&Array.isArray($t(r.errors,e))){const t=u($t(r.errors,e),f.argA,f.argB);d&&Wt(r.errors,e,t),((e,t)=>{!Vt($t(e,t)).length&&Pr(e,t)})(r.errors,e)}if(l.touchedFields&&h&&Array.isArray($t(r.touchedFields,e))){const t=u($t(r.touchedFields,e),f.argA,f.argB);d&&Wt(r.touchedFields,e,t)}l.dirtyFields&&(r.dirtyFields=$r(i,o)),c.state.next({name:e,isDirty:x(e,s),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Wt(o,e,s)},_updateDisabledField:A,_getFieldArray:e=>Vt($t(a.mount?o:i,e,t.shouldUnregister?$t(i,e,[]):[])),_reset:L,_resetDefaultValues:()=>br(t.defaultValues)&&t.defaultValues().then((e=>{F(e,t.resetOptions),c.state.next({isLoading:!1})})),_updateFormState:e=>{r={...r,...e}},_disableForm:e=>{Ut(e)&&(c.state.next({disabled:e}),vr(n,((t,r)=>{const i=$t(n,r);i&&(t.disabled=i._f.disabled||e,Array.isArray(i._f.refs)&&i._f.refs.forEach((t=>{t.disabled=i._f.disabled||e})))}),0,!1))},_subjects:c,_proxyFormState:l,_setErrors:e=>{r.errors=e,c.state.next({errors:r.errors,isValid:!1})},get _fields(){return n},get _formValues(){return o},get _state(){return a},set _state(e){a=e},get _defaultValues(){return i},get _names(){return s},set _names(e){s=e},get _formState(){return r},set _formState(e){r=e},get _options(){return t},set _options(e){t={...t,...e}}},trigger:I,register:N,handleSubmit:M,watch:(e,t)=>br(e)?c.values.subscribe({next:r=>e(w(void 0,t),r)}):w(e,t,!0),setValue:D,getValues:C,reset:F,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$t(n,e)&&(Bt(t.defaultValue)?D(e,Ft($t(i,e))):(D(e,t.defaultValue),Wt(i,e,Ft(t.defaultValue))),t.keepTouched||Pr(r.touchedFields,e),t.keepDirty||(Pr(r.dirtyFields,e),r.isDirty=t.defaultValue?x(e,Ft($t(i,e))):x()),t.keepError||(Pr(r.errors,e),l.isValid&&p()),c.state.next({...r}))},clearErrors:e=>{e&&lr(e).forEach((e=>Pr(r.errors,e))),c.state.next({errors:e?r.errors:{}})},unregister:P,setError:k,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=$t(n,e),i=r&&r._f;if(i){const e=i.refs?i.refs[0]:i.ref;e.focus&&(e.focus(),t.shouldSelect&&br(e.select)&&e.select())}},getFieldState:j}}const Kr=e=>{let{block:r,allBlocks:n,onSave:o,onCancel:a}=e;const{register:s,handleSubmit:u,reset:l,formState:{errors:c}}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t.useRef(void 0),n=t.useRef(void 0),[i,o]=t.useState({isDirty:!1,isValidating:!1,isLoading:br(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:br(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...Gr(e),formState:i});const a=r.current.control;return a._options=e,cr({subject:a._subjects.state,next:e=>{ur(e,a._proxyFormState,a._updateFormState,!0)&&o({...a._formState})}}),t.useEffect((()=>a._disableForm(e.disabled)),[a,e.disabled]),t.useEffect((()=>{if(a._proxyFormState.isDirty){const e=a._getDirty();e!==i.isDirty&&a._subjects.state.next({isDirty:e})}}),[a,i.isDirty]),t.useEffect((()=>{e.values&&!Rr(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,o((e=>({...e})))):a._resetDefaultValues()}),[e.values,a]),t.useEffect((()=>{e.errors&&a._setErrors(e.errors)}),[e.errors,a]),t.useEffect((()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()})),t.useEffect((()=>{e.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})}),[e.shouldUnregister,a]),r.current.formState=ar(i,a),r.current}({defaultValues:r});(0,t.useEffect)((()=>{l(r)}),[r,l]);const f=["subscription","confirmation","welcome","birthday","anniversary","time-sensitive","inactivity","exit-intent","page-view","click","vip-customer","new-registration","loyalty"],d=["send-email","apply-discount","bonus-action","send-sms","send-push","send-whatsapp","apply-free-shipping","assign-coupon","update-loyalty-points","add-loyalty-points","redeem-loyalty-points","apply-loyalty-discount"],h=["if-no-order","if-abandoned-cart","route","if-age-greater","if-age-less","if-location","if-purchase-frequency","if-cart-value-exceeds","if-time-of-day","if-visit-duration","if-webhook-response","if-inventory-low","if-loyalty-points-exceed","if-customer-tier"];return(0,i.jsxs)(It,{onClose:a,children:[(0,i.jsx)("h3",{children:"group"===r.type?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u043b\u043e\u043a\u0430"}),(0,i.jsxs)("form",{onSubmit:u((e=>{"route"===r.type?(e.nextTrue=e.nextTrue?parseInt(e.nextTrue,10):"",e.nextFalse=e.nextFalse?parseInt(e.nextFalse,10):""):e.next=e.next?parseInt(e.next,10):"",o(r.id,e)})),className:"edit-form",children:[(0,i.jsxs)("label",{title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u043b\u043e\u043a\u0430",children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435:",(0,i.jsx)("input",{type:"text",...s("label",{required:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e",minLength:{value:3,message:"\u041c\u0438\u043d\u0438\u043c\u0443\u043c 3 \u0441\u0438\u043c\u0432\u043e\u043b\u0430"}})}),c.label&&(0,i.jsx)("span",{className:"error-message",children:c.label.message})]}),"group"===r.type&&(0,i.jsxs)("label",{title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044e \u0434\u043b\u044f \u0433\u0440\u0443\u043f\u043f\u044b",children:["\u041b\u043e\u0433\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f:",(0,i.jsxs)("select",{...s("logicMode"),children:[(0,i.jsx)("option",{value:"AND",children:"AND (\u0412\u0441\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c)"}),(0,i.jsx)("option",{value:"OR",children:"OR (\u0414\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043e\u0434\u043d\u043e\u0433\u043e)"})]})]}),"route"===r.type?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("label",{title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u043b\u043e\u043a \u0434\u043b\u044f \u0438\u0441\u0442\u0438\u043d\u043d\u043e\u0433\u043e \u0443\u0441\u043b\u043e\u0432\u0438\u044f",children:["\u0415\u0441\u043b\u0438 \u0438\u0441\u0442\u0438\u043d\u043d\u043e:",(0,i.jsxs)("select",{...s("nextTrue"),children:[(0,i.jsx)("option",{value:"",children:"\u041d\u0435\u0442"}),n.filter((e=>e.id!==r.id)).map((e=>(0,i.jsxs)("option",{value:e.id,children:[e.id," - ",e.label]},e.id)))]})]}),(0,i.jsxs)("label",{title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u043b\u043e\u043a \u0434\u043b\u044f \u043b\u043e\u0436\u043d\u043e\u0433\u043e \u0443\u0441\u043b\u043e\u0432\u0438\u044f",children:["\u0415\u0441\u043b\u0438 \u043b\u043e\u0436\u043d\u043e:",(0,i.jsxs)("select",{...s("nextFalse"),children:[(0,i.jsx)("option",{value:"",children:"\u041d\u0435\u0442"}),n.filter((e=>e.id!==r.id)).map((e=>(0,i.jsxs)("option",{value:e.id,children:[e.id," - ",e.label]},e.id)))]})]})]}):(0,i.jsxs)("label",{title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0431\u043b\u043e\u043a",children:["\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0431\u043b\u043e\u043a:",(0,i.jsxs)("select",{...s("next"),children:[(0,i.jsx)("option",{value:"",children:"\u041d\u0435\u0442"}),n.filter((e=>e.id!==r.id)).map((e=>(0,i.jsxs)("option",{value:e.id,children:[e.id," - ",e.label]},e.id)))]})]}),(f.includes(r.type)||d.includes(r.type)||h.includes(r.type))&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("label",{title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442",children:["\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442:",(0,i.jsx)("input",{type:"number",...s("priority")})]}),(0,i.jsxs)("label",{title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0443 (\u0441\u0435\u043a.)",children:["\u0417\u0430\u0434\u0435\u0440\u0436\u043a\u0430 (\u0441\u0435\u043a.):",(0,i.jsx)("input",{type:"number",...s("delay")})]})]}),f.includes(r.type)&&"route"!==r.type&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("label",{title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0435\u0433\u043c\u0435\u043d\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432",children:["\u0421\u0435\u0433\u043c\u0435\u043d\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432:",(0,i.jsx)("input",{type:"text",...s("customerSegment")})]}),(0,i.jsxs)("label",{title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0435\u043c\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438",children:["\u0414\u0435\u043c\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0438:",(0,i.jsx)("input",{type:"text",...s("demographicCriteria")})]}),(0,i.jsxs)("label",{title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439 \u043f\u043e\u043a\u0443\u043f\u043a\u0438",children:["\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439 \u043f\u043e\u043a\u0443\u043f\u043a\u0438:",(0,i.jsx)("input",{type:"text",...s("purchaseScenario"),placeholder:"first, returning"})]}),(0,i.jsxs)("label",{title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e \u0442\u043e\u0432\u0430\u0440\u0430",children:["\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f \u0442\u043e\u0432\u0430\u0440\u0430:",(0,i.jsx)("input",{type:"text",...s("triggerProductCategory"),placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u0438\u043a\u0430"})]})]}),d.includes(r.type)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("label",{title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0440\u043e\u0433 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430",children:["\u041f\u043e\u0440\u043e\u0433 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0430:",(0,i.jsx)("input",{type:"number",...s("orderValueThreshold"),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0438\u0441\u043b\u043e"})]}),(0,i.jsxs)("label",{title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434",children:["\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434:",(0,i.jsx)("input",{type:"text",...s("promoCode")})]}),(0,i.jsxs)("label",{title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 SMS",children:["\u0422\u0435\u043a\u0441\u0442 SMS-\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f:",(0,i.jsx)("input",{type:"text",...s("smsMessage"),placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0441\u043a\u0438\u0434\u043a\u0443 15%!"})]})]}),h.includes(r.type)&&"route"!==r.type&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("label",{title:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u0435",children:["\u0423\u0441\u043b\u043e\u0432\u0438\u0435:",(0,i.jsx)("input",{type:"text",...s("customCondition"),placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, orderValue > 1000"})]})}),(0,i.jsxs)("div",{className:"modal-buttons",children:[(0,i.jsx)("button",{type:"submit",title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,i.jsx)("button",{type:"button",onClick:a,title:"\u041e\u0442\u043c\u0435\u043d\u0430",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})},Yr=e=>{let{simulationResult:t,onClose:r}=e;return(0,i.jsx)(It,{onClose:r,children:(0,i.jsxs)("div",{className:"simulation-modal",children:[(0,i.jsx)("h3",{className:"modal-title",children:"\u0421\u0438\u043c\u0443\u043b\u044f\u0446\u0438\u044f \u0446\u0435\u043f\u043e\u0447\u043a\u0438"}),(0,i.jsx)("pre",{className:"simulation-result",style:{whiteSpace:"pre-wrap",maxHeight:"400px",overflowY:"auto"},children:t}),(0,i.jsx)("div",{className:"modal-buttons",children:(0,i.jsx)("button",{className:"cancel-button",onClick:r,title:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"})})]})})};const Zr=()=>{const{item:e,isDragging:r,currentOffset:n}=function(e){const r=et().getMonitor(),[n,i]=He(r,e);return(0,t.useEffect)((()=>r.subscribeToOffsetChange(i))),(0,t.useEffect)((()=>r.subscribeToStateChange(i))),n}((e=>({item:e.getItem(),isDragging:e.isDragging(),currentOffset:e.getClientOffset()})));if(!r||!n||!e)return null;const o={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,transform:`translate(${n.x-20}px, ${n.y-20}px)`};return(0,i.jsx)("div",{style:o,children:(0,i.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#fff",border:"2px solid #1e88e5",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:ct[e.type]||"\ud83d\udd38"})})},Jr={triggers:[{groupTitle:"\u0411\u0430\u0437\u043e\u0432\u044b\u0435 \u0442\u0440\u0438\u0433\u0433\u0435\u0440\u044b",items:[{type:"subscription",label:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430"},{type:"confirmation",label:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435"},{type:"welcome",label:"\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435"},{type:"order",label:"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430"},{type:"abandoned-cart",label:"\u0411\u0440\u043e\u0448\u0435\u043d\u043d\u0430\u044f \u043a\u043e\u0440\u0437\u0438\u043d\u0430"},{type:"review-request",label:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043e\u0442\u0437\u044b\u0432\u0430"},{type:"vip-customer",label:"VIP \u043a\u043b\u0438\u0435\u043d\u0442"},{type:"new-registration",label:"\u041d\u043e\u0432\u0430\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"},{type:"loyalty",label:"\u041b\u043e\u044f\u043b\u044c\u043d\u044b\u0439 \u043a\u043b\u0438\u0435\u043d\u0442"}]},{groupTitle:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0442\u0440\u0438\u0433\u0433\u0435\u0440\u044b",items:[{type:"birthday",label:"\u0414\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"},{type:"anniversary",label:"\u0413\u043e\u0434\u043e\u0432\u0449\u0438\u043d\u0430"}]},{groupTitle:"\u0413\u0440\u0443\u043f\u043f\u044b \u0446\u0435\u043f\u043e\u0447\u0435\u043a",items:[{type:"group",label:"\u041d\u043e\u0432\u0430\u044f \u0433\u0440\u0443\u043f\u043f\u0430"}]}]},Qr=[{type:"subscription",label:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430"},{type:"confirmation",label:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435"},{type:"welcome",label:"\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435"},{type:"order",label:"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430"},{type:"abandoned-cart",label:"\u0411\u0440\u043e\u0448\u0435\u043d\u043d\u0430\u044f \u043a\u043e\u0440\u0437\u0438\u043d\u0430"},{type:"review-request",label:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043e\u0442\u0437\u044b\u0432\u0430"},{type:"birthday",label:"\u0414\u0435\u043d\u044c \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"},{type:"anniversary",label:"\u0413\u043e\u0434\u043e\u0432\u0449\u0438\u043d\u0430"},{type:"vip-customer",label:"VIP \u043a\u043b\u0438\u0435\u043d\u0442"},{type:"new-registration",label:"\u041d\u043e\u0432\u0430\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"},{type:"loyalty",label:"\u041b\u043e\u044f\u043b\u044c\u043d\u044b\u0439 \u043a\u043b\u0438\u0435\u043d\u0442"},{type:"send-email",label:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c Email"},{type:"apply-discount",label:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u043a\u0438\u0434\u043a\u0443"},{type:"bonus-action",label:"\u041d\u0430\u0447\u0438\u0441\u043b\u0438\u0442\u044c \u0431\u043e\u043d\u0443\u0441\u044b"},{type:"send-sms",label:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c SMS"},{type:"send-push",label:"Push-\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435"},{type:"send-whatsapp",label:"WhatsApp \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"},{type:"apply-free-shipping",label:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0430"},{type:"assign-coupon",label:"\u0412\u044b\u0434\u0430\u0442\u044c \u043a\u0443\u043f\u043e\u043d"},{type:"update-loyalty-points",label:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0431\u043e\u043d\u0443\u0441\u044b"},{type:"add-loyalty-points",label:"\u041d\u0430\u0447\u0438\u0441\u043b\u0438\u0442\u044c \u0431\u043e\u043d\u0443\u0441\u044b"},{type:"redeem-loyalty-points",label:"\u0421\u043f\u0438\u0441\u0430\u0442\u044c \u0431\u043e\u043d\u0443\u0441\u044b"},{type:"apply-loyalty-discount",label:"\u041b\u043e\u044f\u043b\u044c\u043d\u0430\u044f \u0441\u043a\u0438\u0434\u043a\u0430"},{type:"if-no-order",label:"\u0415\u0441\u043b\u0438 \u043d\u0435\u0442 \u0437\u0430\u043a\u0430\u0437\u0430"},{type:"if-abandoned-cart",label:"\u0411\u0440\u043e\u0448\u0435\u043d\u043d\u0430\u044f \u043a\u043e\u0440\u0437\u0438\u043d\u0430"},{type:"route",label:"\u041c\u0430\u0440\u0448\u0440\u0443\u0442 (If/Else)"},{type:"if-age-greater",label:"\u0415\u0441\u043b\u0438 \u0432\u043e\u0437\u0440\u0430\u0441\u0442 \u0431\u043e\u043b\u044c\u0448\u0435"},{type:"if-age-less",label:"\u0415\u0441\u043b\u0438 \u0432\u043e\u0437\u0440\u0430\u0441\u0442 \u043c\u0435\u043d\u044c\u0448\u0435"},{type:"if-location",label:"\u041f\u043e \u0440\u0435\u0433\u0438\u043e\u043d\u0443"},{type:"if-purchase-frequency",label:"\u0427\u0430\u0441\u0442\u043e\u0442\u0430 \u043f\u043e\u043a\u0443\u043f\u043e\u043a"},{type:"if-cart-value-exceeds",label:"\u0421\u0443\u043c\u043c\u0430 \u043a\u043e\u0440\u0437\u0438\u043d\u044b"},{type:"if-time-of-day",label:"\u0412\u0440\u0435\u043c\u044f \u0441\u0443\u0442\u043e\u043a"},{type:"if-visit-duration",label:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u0435\u0441\u0441\u0438\u0438"},{type:"if-webhook-response",label:"\u041e\u0442\u0432\u0435\u0442 \u0432\u0435\u0431\u0445\u0443\u043a\u0430"},{type:"if-inventory-low",label:"\u041d\u0438\u0437\u043a\u0438\u0439 \u0437\u0430\u043f\u0430\u0441"},{type:"if-loyalty-points-exceed",label:"\u0415\u0441\u043b\u0438 \u0431\u043e\u043d\u0443\u0441\u044b \u0431\u043e\u043b\u044c\u0448\u0435"},{type:"if-customer-tier",label:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u043a\u043b\u0438\u0435\u043d\u0442\u0430"}],en={blocks:[],history:[[]],historyIndex:0},tn=(e,t)=>{const r=e.history.slice(0,e.historyIndex+1);return r.push(t),{...e,blocks:t,history:r,historyIndex:r.length-1}},rn=(e,t)=>{switch(t.type){case"ADD_BLOCK":{const r=t.payload,n=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return{x:Math.round(e/r)*r,y:Math.round(t/r)*r}}(r.position.x,r.position.y),i={...r,position:n};return tn(e,[...e.blocks,i])}case"UPDATE_BLOCK_POSITION":{const{id:r,position:n}=t.payload,i=e.blocks.map((e=>e.id===r?{...e,position:n}:e));return tn(e,i)}case"UPDATE_BLOCK_PROPERTIES":{const{id:r,newProps:n}=t.payload,i=e.blocks.map((e=>e.id===r?{...e,...n}:e));return tn(e,i)}case"DELETE_BLOCK":{const r=e.blocks.find((e=>e.id===t.payload));let n;n=r&&"group"===r.type?e.blocks.filter((e=>e.id!==t.payload&&e.groupId!==t.payload)):e.blocks.filter((e=>e.id!==t.payload));const i=n.map((e=>{let t={...e};return t.next&&!n.some((e=>e.id===t.next))&&(t.next=""),"route"===t.type&&(t.nextTrue&&!n.some((e=>e.id===t.nextTrue))&&(t.nextTrue=""),t.nextFalse&&!n.some((e=>e.id===t.nextFalse))&&(t.nextFalse="")),t}));return tn(e,i)}case"DUPLICATE_BLOCK":{const r=t.payload,n={...r,id:wt(),position:{x:r.position.x+20,y:r.position.y+20}};return tn(e,[...e.blocks,n])}case"ADD_NEXT_BLOCK":{const{parentId:r,newBlock:n}=t.payload,i=e.blocks.map((e=>e.id===r?{...e,next:n.id}:e));return tn(e,[...i,n])}case"UNDO":if(e.historyIndex>0){const t=e.historyIndex-1;return{...e,blocks:e.history[t],historyIndex:t}}return e;case"REDO":if(e.historyIndex<e.history.length-1){const t=e.historyIndex+1;return{...e,blocks:e.history[t],historyIndex:t}}return e;case"RESET":return{blocks:[],history:[[]],historyIndex:0};case"LOAD":return tn(e,t.payload);default:return e}},nn=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";console.log(`\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0431\u043b\u043e\u043a "${t.label}" (\u0442\u0438\u043f: ${t.type}). \u0415\u0433\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u0431\u043b\u043e\u043a\u0430 "${e.label}" (\u0442\u0438\u043f: ${e.type}). ${r}`)},on=()=>{const[e,r]=(0,t.useState)(null),[n,o]=(0,t.useReducer)(rn,en),{blocks:a,historyIndex:s}=n,[u,l]=(0,t.useState)(null),[c,f]=(0,t.useState)(""),[d,h]=(0,t.useState)(!1),p=(0,t.useMemo)((()=>{if(!e||!e.type)return[];const t=(r=e.type,st.includes(r)?[...st,...ut,...lt]:ut.includes(r)?[...lt,...st]:lt.includes(r)?[...ut]:"group"===r?[...st]:[]);var r;return Qr.filter((e=>t.includes(e.type)))}),[e]),g=(0,t.useCallback)(((e,t)=>o({type:"UPDATE_BLOCK_POSITION",payload:{id:e,position:t}})),[]),v=(0,t.useCallback)(((e,t)=>{o({type:"UPDATE_BLOCK_PROPERTIES",payload:{id:e,newProps:t}}),l(null)}),[]),y=(0,t.useCallback)((e=>{o({type:"DELETE_BLOCK",payload:e}),l(null)}),[]),m=(0,t.useCallback)((e=>{o({type:"DUPLICATE_BLOCK",payload:e})}),[]),b=(0,t.useCallback)((e=>{o({type:"ADD_BLOCK",payload:e})}),[]),_=(0,t.useCallback)(((e,t)=>{o({type:"ADD_NEXT_BLOCK",payload:{parentId:e,newBlock:t}})}),[]),x=(0,t.useCallback)((()=>{localStorage.setItem("triggerScenario",JSON.stringify(a)),alert("\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!")}),[a]),w=(0,t.useCallback)((()=>{const e=localStorage.getItem("triggerScenario");if(e){const t=JSON.parse(e);o({type:"LOAD",payload:t})}else alert("\u041d\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u043e\u0433\u043e \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u044f.")}),[]),S=(0,t.useCallback)((()=>{const e=JSON.stringify(a,null,2),t=new Blob([e],{type:"application/json"}),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="scenario.json",document.body.appendChild(n),n.click(),document.body.removeChild(n)}),[a]),O=(0,t.useCallback)((e=>{const t=new FileReader;t.onload=()=>{try{const e=JSON.parse(t.result);o({type:"LOAD",payload:e})}catch(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0444\u0430\u0439\u043b\u0430")}},t.readAsText(e.target.files[0])}),[]),D=(0,t.useCallback)((e=>{r(e)}),[]),E=(0,t.useCallback)((t=>{const n=e;let i;"group"===n.type?(i={type:t.type,label:t.label,position:{x:20,y:80*a.filter((e=>e.groupId===n.id)).length},id:wt(),groupId:n.id,next:""},b(i),nn(n,i,"\u041d\u043e\u0432\u044b\u0439 \u0442\u0440\u0438\u0433\u0433\u0435\u0440 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u0433\u0440\u0443\u043f\u043f\u0443.")):(i={type:t.type,label:t.label,position:{x:n.position.x+300,y:n.position.y},id:wt(),next:""},n.groupId&&(i.groupId=n.groupId),_(n.id,i),nn(n,i,"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0431\u043b\u043e\u043a \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043f\u043e\u0441\u043b\u0435 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0433\u043e.")),r(null)}),[e,a,b,_]),T=(0,t.useCallback)((()=>{let e="";a.filter((e=>!e.groupId)).forEach((t=>{e+="\n=== \u041d\u0430\u0447\u0430\u043b\u043e \u0446\u0435\u043f\u043e\u0447\u043a\u0438 ===\n",e+=`\u0428\u0430\u0433 1: "${t.label}" [id: ${t.id}, \u0442\u0438\u043f: ${t.type}]\n`;let r=2,n=t;for(;n;){if("group"===n.type){if(0===a.filter((e=>e.groupId===n.id)).length){e+=`\n\u0413\u0440\u0443\u043f\u043f\u0430 "${n.label}" \u043f\u0443\u0441\u0442\u0430. \u0426\u0435\u043f\u043e\u0447\u043a\u0430 \u043f\u0440\u0435\u0440\u0432\u0430\u043d\u0430.\n`;break}if(e+=`\n--- \u0413\u0440\u0443\u043f\u043f\u0430 "${n.label}" (\u043b\u043e\u0433\u0438\u043a\u0430: ${n.logicMode}) ---\n`,n.next){const t=a.find((e=>e.id===n.next));if(t){e+=`\n\u041f\u0435\u0440\u0435\u0445\u043e\u0434 \u043a \u0431\u043b\u043e\u043a\u0443: "${t.label}" [id: ${t.id}].\n`,n=t,e+=`\u0428\u0430\u0433 ${r}: "${n.label}" [id: ${n.id}]\n`,r++;continue}}break}if("route"===n.type){e+=`\n--- \u0411\u043b\u043e\u043a "\u041c\u0430\u0440\u0448\u0440\u0443\u0442": "${n.label}" [id: ${n.id}]\n`;const t=Math.random()>.5?"true":"false";e+=`   \u0412\u044b\u0431\u0440\u0430\u043d\u043d\u0430\u044f \u0432\u0435\u0442\u043a\u0430: ${t}\n`;const i="true"===t?n.nextTrue:n.nextFalse;if(i){const t=a.find((e=>e.id===i));if(t){e+=`   \u041f\u0435\u0440\u0435\u0445\u043e\u0434 \u043a \u0431\u043b\u043e\u043a\u0443: "${t.label}" [id: ${t.id}].\n`,n=t,e+=`\u0428\u0430\u0433 ${r}: "${n.label}" [id: ${n.id}]\n`,r++;continue}e+="   \u0426\u0435\u043b\u0435\u0432\u043e\u0439 \u0431\u043b\u043e\u043a \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\n";break}e+="   \u041d\u0435\u0442 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u0431\u043b\u043e\u043a\u0430\n";break}if(n.next){const t=a.find((e=>e.id===n.next));if(t){e+=`\n\u041f\u0435\u0440\u0435\u0445\u043e\u0434 \u043e\u0442 "${n.label}" \u043a "${t.label}".\n`,n=t,e+=`\u0428\u0430\u0433 ${r}: "${n.label}" [id: ${n.id}]\n`,r++;continue}e+="\n\u0426\u0435\u043b\u0435\u0432\u043e\u0439 \u0431\u043b\u043e\u043a \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\n";break}break}e+="\n=== \u041a\u043e\u043d\u0435\u0446 \u0446\u0435\u043f\u043e\u0447\u043a\u0438 ===\n"})),f(e),h(!0)}),[a]);return(0,i.jsx)(ye,{backend:Ve,children:(0,i.jsxs)("div",{className:"app",children:[(0,i.jsx)(Be,{}),(0,i.jsxs)("div",{className:"main-container",children:[(0,i.jsxs)("aside",{className:"sidebar",title:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0442\u0440\u0438\u0433\u0433\u0435\u0440\u044b, \u0433\u0440\u0443\u043f\u043f\u044b \u0438\u043b\u0438 \u0448\u0430\u0431\u043b\u043e\u043d\u044b",children:[(0,i.jsx)("h2",{children:"\u0422\u0440\u0438\u0433\u0433\u0435\u0440\u044b \u0438 \u0433\u0440\u0443\u043f\u043f\u044b"}),(0,i.jsx)(ht,{leftMenu:Jr,onTemplateClick:()=>{}})]}),(0,i.jsxs)("main",{className:"canvas-container",children:[(0,i.jsxs)("div",{className:"toolbar",children:[(0,i.jsx)("button",{onClick:()=>o({type:"UNDO"}),disabled:0===s,title:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,i.jsx)("button",{onClick:()=>o({type:"REDO"}),title:"\u041f\u043e\u0432\u0442\u043e\u0440",children:"\u041f\u043e\u0432\u0442\u043e\u0440"}),(0,i.jsx)("button",{onClick:()=>o({type:"RESET"}),title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c",children:"\u0421\u0431\u0440\u043e\u0441"}),(0,i.jsx)("button",{onClick:x,title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,i.jsx)("button",{onClick:w,title:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"}),(0,i.jsx)("button",{onClick:S,title:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439",children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442"}),(0,i.jsx)("input",{type:"file",accept:"application/json",onChange:O,title:"\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439"}),(0,i.jsx)("button",{onClick:T,title:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0438\u043c\u0443\u043b\u044f\u0446\u0438\u044e \u0446\u0435\u043f\u043e\u0447\u043a\u0438",children:"\u0421\u0438\u043c\u0443\u043b\u044f\u0446\u0438\u044f"}),u&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{onClick:()=>y(u.id),title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u0431\u043b\u043e\u043a",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),(0,i.jsx)("button",{onClick:()=>m(u),title:"\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u0431\u043b\u043e\u043a",children:"\u0414\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})]}),(0,i.jsx)(Tt,{blocks:a,addBlock:b,updateBlockPosition:g,onSelectBlock:l,onAddNext:D,onDeleteBlock:y})]})]}),u&&(0,i.jsx)(Kr,{block:u,allBlocks:a,onSave:v,onCancel:()=>l(null)}),e&&(0,i.jsx)(Ct,{parentBlock:e,options:p,onSelect:E,onCancel:()=>r(null)}),d&&(0,i.jsx)(Yr,{simulationResult:c,onClose:()=>h(!1)}),(0,i.jsx)(Zr,{})]})})};n.render((0,i.jsx)(on,{}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.fbcb6763.js.map